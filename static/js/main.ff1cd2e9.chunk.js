(this.webpackJsonpgamerse=this.webpackJsonpgamerse||[]).push([[0],{109:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return U}));var a=n(7),s=n(23),r=n.n(s),c=n(33),i=n(3),o=n(4),l=n(6),u=n(5),d=n(171),h=n(180),m=n(181),p=n(182),b=n(172),f=n(183),j=n(30),g=n(8),x=n(18),O=n(174),v=n(178),y=n(175),w=n(184),N=n(185),S=n(177),k=n(176),C=n(16),T=n.n(C),R=n(2),M=n.n(R),_=n(14),E=n(12),I=n(0),P=Object(I.jsxs)(E.d,{children:[Object(I.jsx)(E.b,{exact:!0,path:"/login",component:h.a}),Object(I.jsx)(E.b,{exact:!0,path:"/register",component:m.a}),Object(I.jsx)(E.b,{exact:!0,path:"/forgot",component:d.a}),Object(I.jsx)(E.a,{to:"/login"})]}),U=function(t){Object(l.a)(s,t);var n=Object(u.a)(s);function s(e){var t;return Object(i.a)(this,s),(t=n.call(this,e)).state={loading:!0,userName:null},t}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,n,a,s,c,i,o,l,u,d,h;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("player.php",{params:{email:g.a.currentUser.email}});case 3:return a=e.sent,n=a.data.userName,e.next=7,x.a.get("friends.php",{params:{userName:n}});case 7:s=e.sent,t=s.data,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t=[];case 14:return e.prev=14,e.next=17,x.a.get("player.php");case 17:c=e.sent,i=c.data,i=T.a.map(i,T.a.partialRight(T.a.pick,["userName","onlineStatus"])),o=t.filter((function(e){return"F"===e.status})),l=T.a.map(o,"friend"),i=i.filter((function(e){return l.includes(e.userName)})),o=o.map((function(e){return{userName:e.friend,id:e.id,status:e.status}})),u=T.a.merge(T.a.keyBy(i,"userName"),T.a.keyBy(o,"userName")),d=T.a.values(u),t=d.map((function(e){return{friend:e.userName,id:e.id,status:e.status,onlineStatus:new Date(parseInt(e.onlineStatus)).getTime()+6e3>(new Date).getTime()?"online":"offline"}})),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(14),t=[];case 32:h=T.a.map(t,"id"),this.unsubscribe=g.b.collection("chats").onSnapshot((function(e){e.docs.filter((function(e){return h.includes(e.id)})).forEach((function(e){var t=e.data().lastSenderUsername,a=e.data().challenge;t!==n&&""!==t&&(!0===a&&_.NotificationManager.warning("".concat(t," has challenged you to a game"),"Challenge"),!1===a&&_.NotificationManager.info("".concat(t," sent you a new message"),"New message"),g.b.collection("chats").doc(e.id).update({challenge:!1,lastSenderUsername:""}))}))})),this.setState({loading:!1,userName:n},(function(){_.NotificationManager.success("Welcome ".concat(n))}));case 35:case"end":return e.stop()}}),e,this,[[0,11],[14,29]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.unsubscribe(),e.worker.terminate()}},{key:"render",value:function(){var e=this;return this.state.loading?Object(I.jsx)(j.a,{}):Object(I.jsxs)(E.d,{children:[Object(I.jsx)(E.b,{exact:!0,path:"/",component:function(t){return Object(I.jsx)(v.a,Object(a.a)(Object(a.a)({},t),{},{userName:e.state.userName}))}}),Object(I.jsx)(E.b,{exact:!0,path:"/friends",component:O.a}),Object(I.jsx)(E.b,{exact:!0,path:"/explore",component:p.a}),Object(I.jsx)(E.b,{exact:!0,path:"/tictactoe",component:k.a}),Object(I.jsx)(E.b,{exact:!0,path:"/snakes",component:y.a}),Object(I.jsx)(E.b,{exact:!0,path:"/ttteasy",component:N.a}),Object(I.jsx)(E.b,{exact:!0,path:"/ttthuman",component:b.a}),Object(I.jsx)(E.b,{exact:!0,path:"/waiting-room/:id",component:f.a}),Object(I.jsx)(E.b,{exact:!0,path:"/tttfriend/:id",component:S.a}),Object(I.jsx)(E.b,{exact:!0,path:"/tttai",component:w.a}),Object(I.jsx)(E.a,{to:"/"})]})}}]),s}(M.a.Component)}).call(this,n(26))},125:function(e,t,n){},165:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var a=n(23),s=n.n(a),r=n(33),c=n(3),i=n(4),o=n(6),l=n(5),u=n(2),d=n(8),h=n(179),m=n(30),p=n(169),b=n(170),f=n(14),j=n(109),g=n(0),x=function(t){Object(o.a)(a,t);var n=Object(l.a)(a);function a(e){var t;return Object(c.a)(this,a),(t=n.call(this,e)).__authenticated=null,t.whereTo=null,t.checkData=function(){var e=Object(r.a)(s.a.mark((function e(t){var n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.b.collection("users").doc(t).get();case 3:return n=e.sent,a=n.data(),e.abrupt("return",a.hasData);case 8:e.prev=8,e.t0=e.catch(0),r=e.t0.message,f.NotificationManager.warning(r),d.a.signOut();case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),t.state={loading:!0},t}return Object(i.a)(a,[{key:"componentWillUnmount",value:function(){}},{key:"componentDidMount",value:function(){var t=this;window.addEventListener("offline",(function(){f.NotificationManager.warning("You are offline but you can still continue to enjoy the app")})),d.a.onAuthStateChanged(function(){var n=Object(r.a)(s.a.mark((function n(a){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a||!a.emailVerified){n.next=13;break}return n.next=3,t.checkData(a.uid);case 3:if(!n.sent){n.next=7;break}t.whereTo="h",n.next=8;break;case 7:t.whereTo="w";case 8:t.__authenticated=!0,e.worker=new b.a(p.a),e.worker.postMessage(d.a.currentUser.email),n.next=14;break;case 13:t.__authenticated=!1;case 14:t.setState({loading:!1});case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},{key:"render",value:function(){return this.state.loading?Object(g.jsx)(m.b,{}):this.__authenticated?"w"===this.whereTo?Object(g.jsx)(h.a,{}):"h"===this.whereTo?Object(g.jsx)(j.b,{}):void 0:j.a}}]),a}(u.Component)}).call(this,n(26))},169:function(e,t,n){"use strict";t.a=function(){onmessage=function(e){var t=e.data;setInterval((function(){fetch("/api/player.php",{method:"POST",body:JSON.stringify({email:t})})}),4e3)}}},170:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(3),s=function e(t){Object(a.a)(this,e);var n=t.toString(),s=new Blob(["("+n+")()"]);return new Worker(URL.createObjectURL(s))}},171:function(e,t,n){"use strict";var a=n(51),s=n(2),r=n(14),c=n(29),i=n(48),o=n.n(i),l=n(82),u=n(8),d=n(0);t.a=function(){var e=Object(s.useState)(""),t=Object(a.a)(e,2),n=t[0],i=t[1];return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"min-vh-100 d-flex justify-content-center align-items-center",children:[Object(d.jsx)("div",{className:"w-100",style:{position:"absolute",height:"100vh",zIndex:0,top:0,left:0,background:"url(".concat(l.a,")"),backgroundPosition:"center",backgroundSize:"cover"}}),Object(d.jsxs)("form",{className:"col-xl-5 col-12 d-flex flex-column p-xl-5 justify-content-center",autoComplete:"off",onSubmit:function(e){e.preventDefault(),window.removeCaptcha=function(){return window.rcv.clear()},window.rcv=new u.c("captcha",{callback:function(e){u.a.sendPasswordResetEmail(n).then((function(){r.NotificationManager.success("Password reset email sent")})).finally((function(){return window.removeCaptcha()}))}}),window.rcv.render()},style:{borderRadius:"2rem",backdropFilter:"blur(10px)",background:"rgba(255,255,255,.7)"},children:[Object(d.jsx)("h1",{className:"p-4 text-center",children:"Gamerse"}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"email",children:"Email"}),Object(d.jsx)("input",{type:"email",name:"email",id:"email",className:"form-control",autoFocus:!0,onChange:function(e){return i(e.target.value)}})]}),Object(d.jsx)("div",{className:"form-group d-flex justify-content-center",id:"captcha"}),Object(d.jsxs)("div",{className:"form-group d-flex flex-row-reverse justify-content-between align-items-center",children:[Object(d.jsx)("button",{className:"btn btn-primary",disabled:o.a.isEmpty(n),children:"Send"}),Object(d.jsx)(c.b,{to:"/login",children:Object(d.jsxs)("button",{type:"submit",className:"btn btn-t-light",children:[Object(d.jsx)("span",{className:"fa fa-chevron-left fa-fw"})," Back to Login"]})})]})]})]})})}},172:function(e,t,n){"use strict";var a=n(7),s=n(3),r=n(4),c=n(6),i=n(5),o=n(55),l=n(36),u=n(31),d=n(10),h=n.n(d),m=n(2),p=n(13),b=n(12),f=n(83),j=n(42),g=n(9),x=n(84),O=n(0),v=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){h()("#SetGameTypeHuman").click()}},{key:"componentWillUnmount",value:function(){this.props.resetScore()}},{key:"render",value:function(){var e=this;return Object(O.jsx)(j.b,{children:Object(O.jsxs)("div",{id:"ttthuman",className:"min-vh-100 d-flex flex-column",children:[Object(O.jsx)(b.b,{component:function(e){return Object(O.jsx)(u.b,Object(a.a)({color:"white"},e))}}),Object(O.jsxs)("div",{className:"d-flex flex-row mx-auto flex-grow-",children:[Object(O.jsx)("div",{className:"w-100",style:{boxShadow:"0 0 100rem 1rem black inset",position:"absolute",height:"100vh",zIndex:-1,top:0,left:0,background:"url(".concat(o.a,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundColor:"#fff"}}),Object(O.jsx)(f.a,{}),Object(O.jsx)(x.a,{}),Object(O.jsx)(j.a.Consumer,{children:function(t){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{id:"SetGameTypeHuman",className:"btn btn-primary",style:{position:"fixed",right:"2rem",top:"48vh"},onClick:function(){t.changeType(g.a.TWO_PLAYERS),t.newGameHuman()},children:"New Game"}),Object(O.jsx)("button",{className:"btn btn-primary mt-5",style:{position:"fixed",right:"2rem",top:"52vh"},onClick:e.props.resetScore,children:"Reset score"})]})}})]})]})})}}]),n}(m.Component);v.contextType=j.a;var y={resetScore:l.a};t.a=Object(p.b)((function(e){e.tictactoe;return{}}),y)(v)},174:function(e,t,n){"use strict";var a=n(7),s=n(3),r=n(4),c=n(6),i=n(5),o=n(55),l=n(31),u=n(2),d=n(13),h=n(12),m=(n(326),n(23)),p=n.n(m),b=n(33),f=n(30),j=n(8),g=n(18),x=n(22),O=function(e){return{type:x.c,payload:e}},v=n(16),y=n.n(v),w=n(56),N=n.n(w),S=n(59),k=n(24),C=n(10),T=n.n(C),R=n(14),M=n(0),_=new N.a({publishKey:"pub-c-fdcbbabd-e8a9-478f-9fc5-c06b84b74225",subscribeKey:"sub-c-036f9b34-8bd6-11eb-83e5-b62f35940104",uuid:"Gamerse"});function E(e){navigator.clipboard?navigator.clipboard.writeText(e).then((function(){console.log("Async: Copying to clipboard was successful!"),R.NotificationManager.info("Copied the code to clipboard")}),(function(e){console.error("Async: Could not copy text: ",e)})):function(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{var n=document.execCommand("copy")?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+n),R.NotificationManager.info("Copied the code to clipboard")}catch(a){console.error("Fallback: Oops, unable to copy",a)}document.body.removeChild(t)}(e)}var I=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).hashCode=function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return t},a.intToRGB=function(e){var t=(16777215&e).toString(16).toUpperCase();return"00000".substring(0,6-t.length)+t},a.getResults=function(){var e=Object(b.a)(p.a.mark((function e(t){var n,a,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("friends.php",{params:{id:t}});case 3:return n=e.sent,a=n.data,s=y.a.orderBy(a,["timestamp"]),s=y.a.map(s,"message"),e.abrupt("return",s);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),a.sendMessage=function(e){e&&(T()("#chatStyle").animate({scrollTop:T()("#chatStyle").prop("scrollHeight")},300),_.publish({channel:a.state.channels[0],message:"@"+a.props.userName+" / "+(new Date).toISOString()+" / message / "+e}).then((function(){g.a.post("friends.php",{friendid:a.props.id,message:"@"+a.props.userName+" / "+(new Date).toISOString()+" / message / "+e}).then((function(e){j.b.collection("chats").doc(a.props.id).update({count:Math.floor(100*Math.random()),lastSenderUsername:a.props.userName,challenge:!1,challenger:"",challengee:""}),a.setState({message:""})}))})))},a.handleMessage=function(e){var t=e.message;if("string"===typeof t||t.hasOwnProperty("text")){var n=t.text||t;a.setState((function(e){return{messages:[].concat(Object(k.a)(e.messages),[n])}})),T()("#chatStyle").animate({scrollTop:T()("#chatStyle").prop("scrollHeight")},300)}},a.getData=function(e){return a.getResults(e).then((function(e){a.setState({messages:Object(k.a)(e)}),T()("#chatStyle").animate({scrollTop:T()("#chatStyle").prop("scrollHeight")},300)}))},a.state={messages:[],channels:[a.props.id],message:""},a}return Object(r.a)(n,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.id!==this.state.channels[0]&&(_.unsubscribe({channels:this.state.channels}),this.setState({channels:[e.id],messages:[],message:""},(function(){_.subscribe({channels:[e.id]}),t.getData(e.id)})))}},{key:"componentDidMount",value:function(){this.getData(this.props.id),_.addListener({message:this.handleMessage}),_.subscribe({channels:this.state.channels})}},{key:"render",value:function(){var e=this;return Object(M.jsx)("div",{className:"d-flex flex-column",children:Object(M.jsxs)("div",{className:"position-relative",children:[Object(M.jsx)("div",{className:"text-dark font-weight-bold h1 text-center p-1 bg-white",children:"Personal Chat"}),Object(M.jsx)("div",{style:{maxHeight:"66vh",overflowY:"auto"},id:"chatStyle",className:"",children:this.state.messages.map((function(t,n){var a=t.split(" / "),s=a[0],r=new Date(a[1]),c="".concat(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][r.getDay()],", ").concat(r.toLocaleString()),i=a[2],o=Array.from(a).splice(3).join(" / ");return Object(M.jsxs)("div",{className:"shadow-sm animate__animated animate__fadeIn",style:{backgroundColor:"#fff",borderRadius:"1rem",color:"black",fontSize:"1.1rem",margin:"5px",padding:"8px 15px"},children:[Object(M.jsx)("small",{className:"text- d-block",style:{color:"".concat(e.intToRGB(e.hashCode(s)))},children:s}),"code"===i?Object(M.jsxs)("div",{children:[Object(M.jsx)("h4",{className:"text-warning",children:"Challenge"}),Object(M.jsx)("div",{className:"text-info pb-2",children:Object(M.jsx)("small",{children:"Click the button to copy the code to clipboard. Then you may paste the code in join room option to play with your friend."})}),r.getTime()+parseInt("240000")<(new Date).getTime()?Object(M.jsx)("p",{className:"text-danger",children:"Code Expired"}):Object(M.jsx)("button",{className:"btn btn-sm btn-primary",onClick:function(){return E(o)},children:"Copy code"})]}):Object(M.jsx)("span",{style:{userSelect:"text"},children:o}),Object(M.jsx)("small",{className:"text-muted text-right d-block",children:c})]},"message-".concat(s,"-").concat(r.getTime()))}))}),Object(M.jsxs)("div",{className:"d-flex input-group w-100 mt-2",children:[Object(M.jsx)("input",{type:"text",className:"form-control",placeholder:"Type your message",value:this.state.message,onKeyPress:function(t){"Enter"===t.key&&e.sendMessage(e.state.message)},onChange:function(t){return e.setState({message:t.target.value})}}),Object(M.jsx)("div",{className:"input-group-append",children:Object(M.jsx)("button",{className:"btn btn-primary",onClick:function(t){t.preventDefault(),e.sendMessage(e.state.message)},children:"Send Message"})})]})]})})}}]),n}(u.Component),P=Object(d.b)((function(e){var t=e.chatReducer;return{id:t.chatWithId,userName:t.userName}}),{})(I),U=new N.a({publishKey:"pub-c-fdcbbabd-e8a9-478f-9fc5-c06b84b74225",subscribeKey:"sub-c-036f9b34-8bd6-11eb-83e5-b62f35940104",uuid:"Gamerse"});var D=function(){return Object(M.jsx)(S.a,{client:U,children:Object(M.jsx)(P,{})})},L=n(52),A=n.n(L),G=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).removeFriend=function(t){return g.a.post("friends.php",{action:"R",friendRecordId:t}).then((function(n){return e.props.removeFriend(t)})).catch((function(e){return console.log(e)}))},e.challenge=function(t){var n=A.a.AES.encrypt((new Date).getTime()+"z"+e.props.ownProps.id,"Gamerse").toString(),a=A.a.enc.Base64.parse(n).toString(A.a.enc.Hex);g.a.post("friends.php",{friendid:e.props.ownProps.id,message:"@"+e.props.myUsername+" / "+(new Date).toISOString()+" / code / "+a}).then((function(t){j.b.collection("chats").doc(e.props.ownProps.id).update({count:Math.floor(100*Math.random()),lastSenderUsername:e.props.myUsername,challenge:!0,challenger:j.a.currentUser.email,challengee:"1"}).then((function(){R.NotificationManager.warning("Challenge sent"),e.props.sendChallenge(j.a.currentUser.email),e.props.history.push("/waiting-room/".concat(a))}))}))},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return Object(M.jsx)("div",{className:"",onClick:function(){return e.props.changeChatWindow(e.props.id)},children:Object(M.jsx)("li",{className:"li list-group-item d-flex flex-row my-2 mx-1 px-2 py-1 shadow border-0",style:{borderRadius:"1rem"},role:"button",children:Object(M.jsxs)("div",{className:"media w-100 h-100 align-items-center",children:[Object(M.jsx)("img",{alt:"Person",src:this.props.photoURL,className:"img-responsive rounded-circle shadow-sm",style:{width:"3.2em",height:"3.2em"}}),Object(M.jsx)("div",{className:"ml-4 media-body d-flex align-items-center",children:Object(M.jsx)("p",{className:"p-0 m-0",children:this.props.ownProps.userName})}),Object(M.jsx)("div",{className:"",children:"online"===this.props.ownProps.onlineStatus?Object(M.jsx)("span",{className:"badge badge-success",children:"Online"}):Object(M.jsx)("span",{className:"badge badge-danger",children:"Offline"})}),Object(M.jsxs)("div",{className:"dropdown",children:[Object(M.jsx)("button",{className:"btn-link btn dropdown-toggle","data-toggle":"dropdown",children:Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-three-dots-vertical",viewBox:"0 0 16 16",children:Object(M.jsx)("path",{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"})})}),Object(M.jsxs)("div",{className:"dropdown-menu dropdown-menu-right shadow border-0 mt-2",style:{borderRadius:"1.2rem"},children:["online"===this.props.ownProps.onlineStatus?Object(M.jsx)("div",{className:"dropdown-item",onClick:function(){return e.challenge(e.props.ownProps.id)},children:"Challenge"}):Object(M.jsx)("div",{className:"dropdown-item text-muted",children:"iChallenge"}),Object(M.jsx)("div",{className:"dropdown-item",onClick:function(){return e.removeFriend(e.props.ownProps.id)},children:"Remove"})]})]})]})})})}}]),n}(u.Component),W={removeFriend:function(e){return{type:x.h,payload:e}},sendChallenge:function(e){return{type:x.j,payload:e}},changeChatWindow:O},F=Object(d.b)((function(e,t){e.chatReducer;return{ownProps:t}}),W)(G),z=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).addFriend=function(t){g.a.post("friends.php",{action:"A",friendRecordId:t}).then((function(n){return j.b.collection("chats").doc(t).set({count:0,lastSenderUsername:"",challenge:!1,challenger:"",challengee:""}).then((function(){return e.props.acceptRequest(t)}))})).catch((function(e){return R.NotificationManager.error("An unexpected error has occured")}))},e.rejectFriend=function(t){g.a.post("friends.php",{action:"R",friendRecordId:t}).then((function(){return e.props.rejectRequest(t)})).catch((function(e){return R.NotificationManager.error("An unexpected error has occured")}))},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return Object(M.jsx)("div",{children:Object(M.jsx)("div",{className:"",children:Object(M.jsx)("li",{className:"li list-group-item d-flex flex-row my-2 mx-1 px-2 py-1 shadow border-0",style:{borderRadius:"1rem"},onClick:this.openChat,children:Object(M.jsxs)("div",{className:"media w-100 h-100 align-items-center",children:[Object(M.jsx)("img",{alt:"Person",src:this.props.ownProps.photoURL,className:"img-responsive rounded-circle shadow-sm",style:{width:"3.2em",height:"3.2em"}}),Object(M.jsx)("div",{className:"ml-4 media-body d-flex align-items-center",children:Object(M.jsx)("p",{className:"p-0 m-0",children:this.props.ownProps.userName})}),Object(M.jsxs)("div",{className:"d-flex flex-row justify-content-between ",style:{width:"30%"},children:[Object(M.jsx)("div",{children:Object(M.jsx)("button",{className:"btn btn-sm btn-success",onClick:function(){return e.addFriend(e.props.ownProps.id)},children:"Accept"})}),Object(M.jsx)("div",{children:Object(M.jsx)("button",{className:"btn btn-sm btn-danger",onClick:function(){return e.rejectFriend(e.props.ownProps.id)},children:"Reject"})})]})]})})})})}}]),n}(u.Component),q={acceptRequest:function(e){return{type:x.a,payload:e}},rejectRequest:function(e){return{type:x.g,payload:e}}},H=Object(d.b)((function(e,t){return{state:e.chatReducer,ownProps:t}}),q)(z),B=n.p+"static/media/TalkImage.d6e180e3.svg",Y=n.p+"static/media/Walk.50b0eece.svg",X=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.friendDataFetcher=setInterval(Object(b.a)(p.a.mark((function e(){var n,a,s,r,c,i,o,l,u,d,h,m,b,f,x;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("player.php",{params:{email:j.a.currentUser.email}});case 3:return i=e.sent,a=i.data.userName,e.next=7,g.a.get("friends.php",{params:{userName:a}});case 7:o=e.sent,n=o.data,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),n=t.props.friends;case 14:return e.prev=14,e.next=17,g.a.get("player.php");case 17:l=e.sent,r=l.data,r=y.a.map(r,y.a.partialRight(y.a.pick,["userName","onlineStatus","photoURL"])),c=r,u=n.filter((function(e){return"F"===e.status})),d=y.a.map(u,"friend"),r=r.filter((function(e){return d.includes(e.userName)})),u=u.map((function(e){return{userName:e.friend,id:e.id,status:e.status}})),h=y.a.merge(y.a.keyBy(r,"userName"),y.a.keyBy(u,"userName")),m=y.a.values(h),n=m.map((function(e){return{friend:e.userName,id:e.id,status:e.status,photoURL:e.photoURL,onlineStatus:new Date(parseInt(e.onlineStatus)).getTime()+6e3>(new Date).getTime()?"online":"offline"}})),e.next=32;break;case 30:e.prev=30,e.t1=e.catch(14);case 32:return e.prev=32,e.next=35,g.a.get("friends.php",{params:{fr:!0,userName:a}});case 35:b=e.sent,s=b.data,r=c,f=y.a.map(s,"pid1"),r=(r=r.filter((function(e){return f.includes(e.userName)}))).map((function(e){return{pid1:e.userName,photoURL:e.photoURL}})),s=y.a.merge(y.a.keyBy(s,"pid1"),y.a.keyBy(r,"pid1")),x=[],Object.keys(s).forEach((function(e){return x.push({pid1:e,photoURL:s[e].photoURL,id:s[e].id})})),s=x,e.next=50;break;case 47:e.prev=47,e.t2=e.catch(32),s=t.props.requests;case 50:t.props.fetchData({loading:!1,userName:a,friends:n,requests:s});case 51:case"end":return e.stop()}}),e,null,[[0,11],[14,30],[32,47]])}))),4e3);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.friendDataFetcher),this.props.changeChatWindow(null)}},{key:"render",value:function(){var e=this;return this.props.loading?Object(M.jsx)(f.a,{height:"flex-grow-1",text:Object(M.jsx)("p",{children:"Fetching data"})}):Object(M.jsx)("div",{children:Object(M.jsxs)("div",{className:"d-flex flex-row flex-grow-1 px-2",children:[Object(M.jsx)("div",{className:"col-4 flex-grow-1 m-0 p-0",children:Object(M.jsx)("ul",{className:"list-group list-group-flushed  rounded-0",children:this.props.friends.length?this.props.friends.map((function(t,n){return"F"===t.status?Object(M.jsx)(h.b,{render:function(s){return Object(u.createElement)(F,Object(a.a)(Object(a.a)({},s),{},{chatWith:e.chatWith,key:"".concat(t.friend,"-").concat(n),photoURL:t.photoURL,id:t.id,onlineStatus:t.onlineStatus,userName:t.friend,myUsername:e.props.userName}))}}):Object(M.jsx)(M.Fragment,{})})):Object(M.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-start pl-5 bg-",style:{minHeight:"80vh"},children:[Object(M.jsx)("span",{className:"",style:{fontSize:"2rem",fontWeight:"800"},children:"Whoops!"})," ",Object(M.jsx)("div",{className:"m-1"}),Object(M.jsx)("p",{className:"",children:"It seems you have no friends!"}),Object(M.jsx)("p",{children:"Use explore to find new friends"}),Object(M.jsxs)("p",{children:["Go to"," ",Object(M.jsx)("span",{className:"btn-link",role:"button",onClick:function(){return e.props.history.push("/explore")},children:"Explore"})]})]})})}),Object(M.jsx)("div",{className:"col-4 flex-grow-1",children:this.props.chatWithId?Object(M.jsx)(D,{}):Object(M.jsxs)("div",{className:"d-flex flex-column justify-content-around align-items-center bg-",style:{minHeight:"80vh"},children:[Object(M.jsx)("p",{children:"Select a friend to chat"}),Object(M.jsx)("img",{src:B,alt:"Talk",className:"img-responsive w-100"})]})}),Object(M.jsx)("div",{className:"col-4 flex-grow-1 m-0 p-0",children:Object(M.jsx)("ul",{className:"list-group list-group-flushed  rounded-0",children:this.props.requests.length?this.props.requests.map((function(e,t){return Object(M.jsx)(H,{id:e.id,userName:e.pid1,photoURL:e.photoURL},"".concat(e.id,"-").concat(t))})):Object(M.jsxs)("div",{className:"d-flex flex-column justify-content-around align-items-center bg- p-5",style:{minHeight:"80vh"},children:[Object(M.jsx)("p",{children:"No pending friend requests"}),Object(M.jsx)("img",{src:Y,alt:"All clear!",className:"img-responsive w-100"})]})})})]})})}}]),n}(u.Component),V={fetchData:function(e){return{type:x.d,payload:e}},changeChatWindow:O},J=Object(d.b)((function(e){var t=e.chatReducer;return{loading:t.loading,userName:t.userName,requests:t.requests,players:t.players,friends:t.friends,chatWithId:t.chatWithId}}),V)(X),K=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(M.jsx)("div",{children:Object(M.jsxs)("div",{className:"min-vh-100 d-flex flex-column",children:[Object(M.jsx)("div",{className:"w-100 d-none",style:{position:"absolute",height:"100vh",zIndex:0,top:0,left:0,background:"url(".concat(o.a,")"),backgroundPosition:"center",backgroundSize:"cover"}}),Object(M.jsx)(h.b,{component:function(e){return Object(M.jsx)(l.b,Object(a.a)({},e))}}),Object(M.jsx)(h.b,{component:function(e){return Object(M.jsx)(J,Object(a.a)({},e))}})]})})}}]),n}(u.Component);t.a=Object(d.b)((function(e){return{}}),{})(K)},175:function(e,t,n){"use strict";var a=n(7),s=n(23),r=n.n(s),c=n(33),i=n(3),o=n(4),l=n(6),u=n(5),d=n(2),h=n(24),m=n(0),p=function(e){return Object(m.jsx)("div",{children:e.snakeDots.map((function(e,t){var n={left:"".concat(e[0],"%"),top:"".concat(e[1],"%")};return Object(m.jsx)("div",{className:"snake-dot",style:n},"snakedot-".concat(t))}))})},b=function(e){var t={left:"".concat(e.dot[0],"%"),top:"".concat(e.dot[1],"%")};return Object(m.jsx)("div",{className:"snake-food",style:t})},f=function(e){if(Object(d.useEffect)((function(){console.log("Inside poison")})),e.dot){var t={left:"".concat(e.dot[0],"%"),top:"".concat(e.dot[1],"%")};return Object(m.jsx)("div",{className:"poison",style:t})}return Object(m.jsx)("div",{})},j=(n(328),n(13)),g=n(18),x=function(){return[2*Math.floor((98*Math.random()+1)/2),2*Math.floor((98*Math.random()+1)/2)]},O={food:x(),speed:200,direction:"n",poison:null,length:2,snakeDots:[[0,0],[2,0]]},v=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state=O,e.score="",e.s=0,e.game="",e.onKeyDown=function(t){switch((t=t||window.event).keyCode){case 38:"DOWN"!==e.state.direction&&e.setState({direction:"UP"});break;case 40:"UP"!==e.state.direction&&e.setState({direction:"DOWN"});break;case 37:"RIGHT"!==e.state.direction&&e.setState({direction:"LEFT"});break;case 39:"LEFT"!==e.state.direction&&e.setState({direction:"RIGHT"});break;default:console.log("inside default")}},e.moveSnake=function(){var t=Object(h.a)(e.state.snakeDots),n=t[t.length-1];switch(e.game="",e.score="",e.state.direction){case"RIGHT":n=[n[0]+2,n[1]],t.push(n),t.shift(),e.setState({snakeDots:t});break;case"LEFT":n=[n[0]-2,n[1]],t.push(n),t.shift(),e.setState({snakeDots:t});break;case"DOWN":n=[n[0],n[1]+2],t.push(n),t.shift(),e.setState({snakeDots:t});break;case"UP":n=[n[0],n[1]-2],t.push(n),t.shift(),e.setState({snakeDots:t});break;default:console.log("default case")}},e.checklength=function(){console.log("inside check_length"),e.state.length>2&&e.setState({poison:e.gen_poison()})},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){setInterval(this.moveSnake,this.state.speed),document.onkeydown=this.onKeyDown,setInterval(this.checklength,5e3)}},{key:"componentDidUpdate",value:function(){this.checkIfOutOfBorders(),this.checkIfCollapsed(),this.checkIfEat(),null!==this.state.poison&&this.checkIfEatPoison()}},{key:"checkIfOutOfBorders",value:function(){var e=this.state.snakeDots[this.state.snakeDots.length-1];(e[0]>=100||e[1]>=100||e[0]<0||e[1]<0)&&this.onGameOver()}},{key:"checkIfCollapsed",value:function(){var e=this,t=Object(h.a)(this.state.snakeDots),n=t[t.length-1];t.pop(),t.forEach((function(t){n[0]===t[0]&&n[1]===t[1]&&e.onGameOver()}))}},{key:"checkIfEat",value:function(){var e=this.state.snakeDots[this.state.snakeDots.length-1],t=this.state.food;e[0]===t[0]&&e[1]===t[1]&&(this.setState({food:this.gen_food(),length:this.state.length+1}),this.enlargeSnake(),this.increaseSpeed(),this.s=this.s+20,this.props.updateScore(this.s))}},{key:"checkIfEatPoison",value:function(){var e=this.state.snakeDots[this.state.snakeDots.length-1],t=this.state.poison;e[0]===t[0]&&e[1]===t[1]&&(this.setState({poison:this.gen_poison(),length:this.state.length+1}),this.enlargeSnake(),this.increaseSpeed(),this.s=this.s-40,this.props.updateScore(this.s))}},{key:"enlargeSnake",value:function(){var e=Object(h.a)(this.state.snakeDots);e.unshift([]),this.setState({snakeDots:e})}},{key:"increaseSpeed",value:function(){this.state.speed>10&&this.setState({speed:this.state.speed-10})}},{key:"onGameOver",value:function(){this.score="your score is "+this.s,this.game="Game-Over",g.a.post("snake-api.php/",{userName:this.props.userName,score:this.s}).then((function(e){return console.log(e)})).catch((function(e){return console.log("err from snake game:"+e)})),this.s=0,this.props.updateScore(this.s),this.setState(O),this.props.updateHighScore()}},{key:"gen_food",value:function(){var e=this,t=x();return Object(h.a)(this.state.snakeDots).forEach((function(n){t[0]===n[0]&&t[1]===n[1]&&e.gen_food()})),t}},{key:"gen_poison",value:function(){var e=this,t=[2*Math.floor((98*Math.random()+1)/2),2*Math.floor((98*Math.random()+1)/2)],n=this.state.food;return Object(h.a)(this.state.snakeDots).forEach((function(a){(t[0]===a[0]&&t[1]===a[1]||t[0]===n[0]&&t[1]===n[1])&&e.gen_poison()})),t}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"game-area shadow rounded",children:[Object(m.jsx)(p,{snakeDots:this.state.snakeDots}),Object(m.jsx)(b,{dot:this.state.food}),Object(m.jsx)(f,{dot:this.state.poison})]})}}]),n}(d.Component),y=Object(j.b)((function(e){return{}}),{})(v),w=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:["Current Score: ",this.props.score]}),Object(m.jsxs)("p",{children:["High Score: ",this.props.highScore," "]})]})}}]),n}(d.Component),N=Object(j.b)((function(e){return{}}),{})(w),S=n(31),k=n(12),C=n(8),T=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).updateScore=function(e){a.setState({score:e})},a.updateHighScore=function(){g.a.get("snake-api.php",{params:{userName:a.state.userName}}).then((function(e){console.log(e);var t=e.data.highscore;a.setState({highScore:t,score:0})})).catch((function(e){return console.log(e)}))},a.state={score:0,highScore:0},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,n,a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("player.php",{params:{email:C.a.currentUser.email}});case 2:return t=e.sent,n=t.data.userName,this.setState({userName:n}),e.next=7,g.a.get("snake-api.php",{params:{userName:n}});case 7:a=e.sent,console.log(a),s=a.data.highscore,this.setState({highScore:s});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"min-vh-100 game-container d-flex flex-column",children:[Object(m.jsx)("header",{children:Object(m.jsx)(k.b,{component:function(e){return Object(m.jsx)(S.b,Object(a.a)({},e))}})}),Object(m.jsxs)("div",{className:"d-flex flex-grow-1",children:[Object(m.jsx)("div",{className:"col-7 d-flex flex-column justify-content-center align-items-center",children:Object(m.jsx)(y,{updateScore:this.updateScore,userName:this.state.userName,updateHighScore:this.updateHighScore})}),Object(m.jsx)("div",{className:"col-5",children:Object(m.jsx)(N,{score:this.state.score,userName:this.state.userName,highScore:this.state.highScore})})]})]})}}]),n}(d.Component);t.a=T},176:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(7),s=n(3),r=n(4),c=n(6),i=n(5),o=n.p+"static/media/AI.e8678699.svg",l=n.p+"static/media/EasyImage.bccba098.svg",u=n.p+"static/media/friends.1077f933.svg",d=n.p+"static/media/SideBySide.ac8d233f.svg",h=n(31),m=n(2),p=n(12),b=n(29),f=n(13),j=n(0),g=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),a.props.history.push("/waiting-room/".concat(a.state.code))},a.state={code:null},a}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{action:"",onSubmit:this.handleSubmit,autoComplete:"off",children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"code",children:"Enter code"}),Object(j.jsx)("input",{type:"text",name:"code",id:"code",className:"form-control",onChange:function(t){return e.setState({code:t.target.value})}})]}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("button",{className:"btn btn-primary",children:"Join game"})})]})})}}]),n}(m.Component),x=(Object(f.b)((function(e){return{}}),{})(g),function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"d-flex flex-column min-vh-100",children:[Object(j.jsx)(p.b,{component:function(e){return Object(j.jsx)(h.b,Object(a.a)({},e))}}),Object(j.jsxs)("div",{className:"d-flex flex-row flex-grow-1 text-dark",children:[Object(j.jsxs)("div",{className:"d-flex flex-column flex-grow-1 text-center justify-content-around col-3",children:[Object(j.jsx)("img",{src:l,className:"w-100 img-responsive",alt:"Snakes",style:{}}),Object(j.jsx)(b.b,{className:"stretched-link",to:"ttteasy",children:Object(j.jsx)("p",{children:"Easy"})})]}),Object(j.jsxs)("div",{className:"d-flex flex-column flex-grow-1 text-center justify-content-around col-3",children:[Object(j.jsx)("img",{src:o,className:"w-100 img-responsive",alt:"Snakes",style:{}}),Object(j.jsx)(b.b,{className:"stretched-link",to:"tttai",children:Object(j.jsx)("p",{children:"Impossible (against AI)"})})]}),Object(j.jsxs)("div",{className:"d-flex flex-column flex-grow-1 text-center justify-content-around col-3",children:[Object(j.jsx)("img",{src:d,className:"w-100 img-responsive",alt:"Snakes",style:{}}),Object(j.jsx)(b.b,{className:"stretched-link",to:"ttthuman",children:Object(j.jsx)("p",{children:"Player side-by-side"})})]}),Object(j.jsxs)("div",{className:"d-flex flex-column flex-grow-1 text-center justify-content-around col-3 align-items-center",children:[Object(j.jsx)("img",{src:u,className:"w-100 img-responsive",alt:"Snakes",style:{}}),Object(j.jsx)(p.b,{component:function(e){return Object(j.jsx)(g,Object(a.a)({},e))}})]})]})]})})}}]),n}(m.Component))},177:function(e,t,n){"use strict";var a=n(7),s=n(23),r=n.n(s),c=n(33),i=n(3),o=n(4),l=n(6),u=n(5),d=n(55),h=n(31),m=n(30),p=n(8),b=n(18),f=n(36),j=n(10),g=n.n(j),x=n(16),O=n.n(x),v=n(56),y=n.n(v),w=n(59),N=n(2),S=n.n(N),k=n(13),C=n(12),T=n(9),R=n(24),M=n(14),_=n(0),E=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).hashCode=function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return t},a.intToRGB=function(e){var t=(16777215&e).toString(16).toUpperCase();return"00000".substring(0,6-t.length)+t},a.sendMessage=function(e){e&&(g()("#chatStyle").animate({scrollTop:g()("#chatStyle").prop("scrollHeight")},300),a.props.pubnub.publish({channel:["".concat(a.props.friendId,"_InGameChat")],message:"@"+a.props.userName+" / "+(new Date).toISOString()+" / message / "+e}).then((function(){a.setState({message:""})})))},a.handleMessage=function(e){if(e.channel==="".concat(a.props.friendId,"_InGameChat")){var t=e.message;if("string"===typeof t||t.hasOwnProperty("text")){var n=t.text||t,s=n.split(" / ");"USER_LEFT"===Array.from(s).splice(3).join(" / ")?M.NotificationManager.error("The other user has left"):(a.setState((function(e){return{messages:[].concat(Object(R.a)(e.messages),[n])}})),g()("#chatStyle").animate({scrollTop:g()("#chatStyle").prop("scrollHeight")},300))}}},a.state={loading:!0,messages:[],message:""},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.pubnub.addListener({message:this.handleMessage}),this.props.pubnub.subscribe({channels:["".concat(this.props.friendId,"_InGameChat")]}),this.setState({loading:!1})}},{key:"componentWillUnmount",value:function(){this.sendMessage("USER_LEFT"),this.props.pubnub.unsubscribe({channels:["".concat(this.props.friendId,"_InGameChat")]})}},{key:"render",value:function(){var e=this;return this.state.loading?Object(_.jsx)(m.b,{}):Object(_.jsx)("div",{className:"d-flex flex-column flex-grow-1 p-3 shadow",style:{borderRadius:"1rem",backdropFilter:"blur(10px)",background:"rgba(255,255,255,.7)"},children:Object(_.jsxs)("div",{className:"position-relative",children:[Object(_.jsx)("h3",{className:"text-dark font-weight-bold h1 text-center p-1 bg-",children:"In-Game Chat"}),Object(_.jsx)("div",{style:{maxHeight:"65vh",overflowY:"auto"},id:"chatStyle",className:"",children:this.state.messages.map((function(t,n){var a=t.split(" / "),s=a[0],r=new Date(a[1]),c="".concat(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][r.getDay()],", ").concat(r.toLocaleString()),i=Array.from(a).splice(3).join(" / ");return Object(_.jsxs)("div",{className:"shadow-sm animate__animated animate__fadeIn",style:{backgroundColor:"#fff",borderRadius:"1rem",color:"black",fontSize:"1.1rem",margin:"5px",padding:"8px 15px"},children:[Object(_.jsx)("small",{className:"text- d-block",style:{color:"".concat(e.intToRGB(e.hashCode(s)))},children:s}),Object(_.jsx)("span",{style:{userSelect:"text"},children:i}),Object(_.jsx)("small",{className:"text-muted text-right d-block",children:c})]},"message-".concat(s,"-").concat(r.getTime()))}))}),Object(_.jsxs)("div",{className:"d-flex input-group w-100 mt-2",children:[Object(_.jsx)("input",{type:"text",className:"form-control",placeholder:"Type your message",value:this.state.message,onKeyPress:function(t){"Enter"===t.key&&e.sendMessage(e.state.message)},onChange:function(t){return e.setState({message:t.target.value})}}),Object(_.jsx)("div",{className:"input-group-append",children:Object(_.jsx)("button",{className:"btn btn-primary",onClick:function(t){t.preventDefault(),e.sendMessage(e.state.message)},children:"Send Message"})})]})]})})}}]),n}(N.Component),I=Object(k.b)((function(e){e.chatReducer;return{}}),{})(E),P=500,U=S.a.createContext(),D=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).initState={gameType:T.a.TWO_PLAYERS,currentIcon:1,playerTurn:"X"===e.props.icon?1:0,cells:new Array(9).fill(null),gameState:{position:"",iconType:null,isTie:null}},e.state={gameType:e.initState.gameType,currentIcon:e.initState.currentIcon,playerTurn:e.initState.playerTurn,cells:e.initState.cells,gameState:e.initState.gameState,changeType:function(t){e.state.gameType!==t&&e.initNewGame(t)},humanPlay:function(t){e.humanPlay(t)},newGame:function(){e.initNewGame(e.state.gameType)},newGameHuman:function(){e.initNewGame(T.a.TWO_PLAYERS)}},e.initGame=function(){e.state.gameType===T.a.VERSUS_COMPUTER&&e.state.playerTurn===T.c.COMPUTER&&(e.timeout&&clearTimeout(e.timeout),e.timeout=setTimeout((function(){var t=Object(T.f)(e.state.cells);e.computerPlay(t)}),P))},e.initNewGame=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.initState.gameType;e.setState((function(){return{gameType:t,currentIcon:e.initState.currentIcon,playerTurn:e.initState.playerTurn,cells:e.initState.cells,gameState:e.initState.gameState}}),(function(){e.initGame()}))},e.applyState=function(e,t){var n=e.cells,a=1-e.currentIcon,s=1-e.playerTurn,r=Object(T.h)(n,t,e.currentIcon);return{gameState:Object(T.d)(r),currentIcon:a,playerTurn:s,cells:r}},e.humanPlay=function(t){""!==e.state.gameState.position||null!==e.state.cells[t]||e.state.gameType!==T.a.TWO_PLAYERS&&e.state.playerTurn!==T.c.HUMAN||e.setState((function(n){return e.applyState(n,t)}),(function(){""===e.state.gameState.position&&e.state.gameType===T.a.VERSUS_COMPUTER&&e.state.playerTurn===T.c.COMPUTER&&setTimeout((function(){e.makeAIMove()}),P)}))},e.computerPlay=function(t){""===e.state.gameState.position&&null===e.state.cells[t]&&e.state.gameType===T.a.VERSUS_COMPUTER&&e.state.playerTurn===T.c.COMPUTER&&e.setState((function(n){return e.applyState(n,t)}))},e.makeAIMove=function(){var t=Object(T.e)(e.state.cells,e.state.currentIcon);null!==t&&e.computerPlay(t)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.initGame()}},{key:"render",value:function(){return Object(_.jsx)(U.Provider,{value:this.state,children:this.props.children})}}]),n}(N.Component),L=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(_.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-between shadow p-2 mb-5",style:{borderRadius:"1rem",backdropFilter:"blur(10px)",background:"rgba(255,255,255,.7)"},children:[Object(_.jsx)("div",{className:"pb-4",children:Object(_.jsx)("h1",{children:"Score"})}),Object(_.jsxs)("div",{className:"d-flex bg- w-100 align-items-center justify-content-around",children:[Object(_.jsxs)("div",{className:"d-flex flex-column d-block text-center",children:[Object(_.jsx)("h2",{className:"d-inline-block",style:{width:"3rem",overflow:"hidden"},children:Object(_.jsx)("img",{src:"X"===this.props.icon?p.a.currentUser.photoURL:this.props.friend.photoURL,alt:"",className:"w-100"})}),Object(_.jsx)("div",{className:"text-center",style:{fontSize:"5rem",fontWeight:"bold"},children:this.props.score_x})]}),Object(_.jsxs)("div",{className:"d-flex flex-column d-block text-center",children:[Object(_.jsx)("h2",{className:"d-inline-block ",style:{width:"3rem",overflow:"hidden"},children:Object(_.jsx)("img",{src:"X"!==this.props.icon?p.a.currentUser.photoURL:this.props.friend.photoURL,alt:"",className:"w-100"})}),Object(_.jsx)("div",{className:"text-center",style:{fontSize:"5rem",fontWeight:"bold"},children:this.props.score_o})]}),Object(_.jsxs)("div",{className:"d-flex flex-column d-block text-center",children:[Object(_.jsx)("h2",{className:"d-inline-block",style:{overflow:"hidden"},children:Object(_.jsx)("div",{className:"bg-danger text-white rounded-circle d-flex justify-content-center align-items-center",style:{width:"3rem",height:"3rem"},children:"T"})}),Object(_.jsx)("div",{className:"text-center",style:{fontSize:"5rem",fontWeight:"bold"},children:this.props.tie})]})]})]})}}]),n}(N.Component),A=Object(k.b)((function(e){var t=e.tictactoe;return{score_x:t.score_x,score_o:t.score_o,tie:t.tie}}),{})(L),G=(n(125),function(e){var t=e.sendMessage,n=e.index;return Object(_.jsx)(U.Consumer,{children:function(e){var a=e.cells[n],s=null!==a?T.b[a]:"_",r="_"!==s?"done text-dark":" text-white";return Object(_.jsx)("button",{id:"cell-tttfriend-id-".concat(n),className:"cell cell-".concat(n," ").concat(r),onClick:function(){e.humanPlay(n),"_"===s&&t(n)},children:s})}})}),W=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).boardRef=S.a.createRef(),a}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(){var e=this;""!==this.context.gameState.position?setTimeout((function(){e.boardRef.current.classList.add("full")}),50):this.boardRef.current.classList.remove("full")}},{key:"render",value:function(){return Object(_.jsxs)("div",{className:"board ".concat(this.context.gameState.position),ref:this.boardRef,children:[Object(_.jsxs)("div",{className:"board-row",children:[Object(_.jsx)(G,{sendMessage:this.props.sendMessage,index:0}),Object(_.jsx)(G,{sendMessage:this.props.sendMessage,index:1}),Object(_.jsx)(G,{sendMessage:this.props.sendMessage,index:2})]}),Object(_.jsxs)("div",{className:"board-row",children:[Object(_.jsx)(G,{sendMessage:this.props.sendMessage,index:3}),Object(_.jsx)(G,{sendMessage:this.props.sendMessage,index:4}),Object(_.jsx)(G,{sendMessage:this.props.sendMessage,index:5})]}),Object(_.jsxs)("div",{className:"board-row",children:[Object(_.jsx)(G,{sendMessage:this.props.sendMessage,index:6}),Object(_.jsx)(G,{sendMessage:this.props.sendMessage,index:7}),Object(_.jsx)(G,{sendMessage:this.props.sendMessage,index:8})]})]})}}]),n}(N.Component);W.contextType=U;var F=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).sendMessage=function(e){return a.props.pubnub.publish({channel:a.props.friendId,message:"".concat(a.props.icon," ").concat(e)})},a.handleMessage=function(e){if(e.channel===a.props.friendId){var t=e.message;if("string"===typeof t||t.hasOwnProperty("text")){var n=t.text||t,s=n.split(" ")[1];g()("#cell-tttfriend-id-".concat(s)).click(),a.setState((function(e){return{moves:[].concat(Object(R.a)(e.moves),[n])}}),(function(){}))}}},a.state={moves:[],loading:!0,channels:[a.props.friendId],flag:0,index:null},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.pubnub.addListener({message:this.handleMessage}),this.props.pubnub.subscribe({channels:[this.props.friendId]}),this.setState({loading:!1})}},{key:"render",value:function(){var e="",t=this.context.currentIcon;if(this.context.gameState.isTie)e="Tie!",this.props.updateScoreTie();else if(this.context.gameType===T.a.TWO_PLAYERS)if(""===this.context.gameState.position){var n=T.b[t];if(n===this.props.icon)e="Its your(".concat(n,") turn");else{e="Its ".concat(this.props.friend.friend,"'s(").concat(n,") turn");for(var a=1;a<=9;a++)g()("#cell-tttfriend-id-".concat(a)).prop("disabled",!0)}}else{var s=T.b[1-t];e=s===this.props.icon?"You Win!":"".concat(this.props.friend.friend," Wins!"),"X"===s?this.props.updateScoreX():this.props.updateScoreO()}return this.state.loading?Object(_.jsx)(m.a,{height:" "}):Object(_.jsxs)("main",{className:"main mx-auto",children:[Object(_.jsx)("h1",{className:"info",children:e}),Object(_.jsx)(W,{sendMessage:this.sendMessage})]})}}]),n}(N.Component);F.contextType=U;var z={updateScoreX:f.d,updateScoreO:f.b,updateScoreTie:f.c,resetScore:f.a},q=Object(k.b)((function(e){e.tictactoe;return{}}),z)(F),H=new y.a({publishKey:"pub-c-fdcbbabd-e8a9-478f-9fc5-c06b84b74225",subscribeKey:"sub-c-036f9b34-8bd6-11eb-83e5-b62f35940104",uuid:"Gamerse"}),B=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={loading:!0,friendId:a.props.match.params.id,friend:null,userName:null,icon:null},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,n,a,s,c,i,o,l,u,d,h,m=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("player.php",{params:{email:p.a.currentUser.email}});case 3:return s=e.sent,n=s.data.userName,e.next=7,b.a.get("friends.php",{params:{userName:n}});case 7:c=e.sent,t=c.data,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t=this.props.friends;case 14:return e.prev=14,e.next=17,b.a.get("player.php");case 17:i=e.sent,a=i.data,a=O.a.map(a,O.a.partialRight(O.a.pick,["userName","onlineStatus","photoURL"])),o=t.filter((function(e){return"F"===e.status})),l=O.a.map(o,"friend"),a=a.filter((function(e){return l.includes(e.userName)})),o=o.map((function(e){return{userName:e.friend,id:e.id,status:e.status}})),u=O.a.merge(O.a.keyBy(a,"userName"),O.a.keyBy(o,"userName")),d=O.a.values(u),t=d.map((function(e){return{friend:e.userName,id:e.id,status:e.status,photoURL:e.photoURL,onlineStatus:new Date(parseInt(e.onlineStatus)).getTime()+6e3>(new Date).getTime()?"online":"offline"}})).filter((function(e){return e.id===m.state.friendId})),h=1===String(n).localeCompare(String(t[0].friend))?"X":"O",this.setState({friend:t[0],userName:n,icon:h,loading:!1},(function(){})),e.next=33;break;case 31:e.prev=31,e.t1=e.catch(14);case 33:case"end":return e.stop()}}),e,this,[[0,11],[14,31]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.props.resetScore()}},{key:"render",value:function(){var e=this;return this.state.loading?Object(_.jsx)(m.b,{}):Object(_.jsx)("div",{children:Object(_.jsx)(D,{icon:this.state.icon,children:Object(_.jsxs)(w.a,{client:H,children:[Object(_.jsx)("div",{className:"w-100",style:{boxShadow:"0 0 100rem 1rem white inset",position:"absolute",height:"100vh",zIndex:-1,top:0,left:0,background:"url(".concat(d.a,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundColor:"#fff"}}),Object(_.jsxs)("div",{className:"d-flex min-vh-100 flex-column",children:[Object(_.jsx)(C.b,{component:function(e){return Object(_.jsx)(h.b,Object(a.a)({color:""},e))}}),Object(_.jsxs)("div",{className:"flex-grow-1 d-flex flex-row",children:[Object(_.jsx)("div",{className:"col-5 mx-auto d-flex bg- flex-row flex-grow-1",children:Object(_.jsx)(q,{pubnub:H,userName:this.state.userName,friendId:this.state.friendId,friend:this.state.friend,icon:this.state.icon})}),Object(_.jsxs)("div",{className:"col d-flex flex-row flex-grow-1",children:[Object(_.jsxs)("div",{className:"col d-flex flex-column align-items-between",children:[Object(_.jsx)(A,{pubnub:H,icon:this.state.icon,userName:this.state.userName,friend:this.state.friend}),Object(_.jsx)(U.Consumer,{children:function(t){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("button",{id:"SetGameTypeHuman",className:"btn btn-primary d-block",style:{},onClick:function(){t.newGameHuman()},children:"New Game"}),Object(_.jsx)("button",{className:"btn btn-primary mt-5 d-block",style:{},onClick:e.props.resetScore,children:"Reset score"})]})}})]}),Object(_.jsx)("div",{className:"col",children:Object(_.jsx)(C.b,{component:function(t){return Object(_.jsx)(I,Object(a.a)(Object(a.a)({},t),{},{pubnub:H,friendId:e.state.friendId,userName:e.state.userName}))}})})]})]})]})]})})})}}]),n}(N.Component);B.contextType=U;var Y={resetScore:f.a};t.a=Object(k.b)((function(e){e.tictactoe;return{}}),Y)(B)},178:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(7),s=n(3),r=n(4),c=n(6),i=n(5),o=n(82),l=n(31),u=n(2),d=n(12),h=n(24),m=n(51),p=n(56),b=n.n(p),f=n(59),j=n(10),g=n.n(j),x=n(0),O=new b.a({publishKey:"pub-c-fdcbbabd-e8a9-478f-9fc5-c06b84b74225",subscribeKey:"sub-c-036f9b34-8bd6-11eb-83e5-b62f35940104",uuid:"Gamerse"});var v=function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return t},y=function(e){var t=(16777215&e).toString(16).toUpperCase();return"00000".substring(0,6-t.length)+t};function w(e){var t=e.userName,n=Object(f.b)(),a=Object(u.useState)(["global-chat"]),s=Object(m.a)(a,1)[0],r=Object(u.useState)([]),c=Object(m.a)(r,2),i=c[0],o=c[1],l=Object(u.useState)(""),d=Object(m.a)(l,2),p=d[0],b=d[1],j=function(e){var t=e.message;if("string"===typeof t||t.hasOwnProperty("text")){var n=t.text||t;o((function(e){return[].concat(Object(h.a)(e),[n])})),g()("#chatStyle").animate({scrollTop:g()("#chatStyle").prop("scrollHeight")},1e3)}},O=function(e){e&&(g()("#chatStyle").animate({scrollTop:g()("#chatStyle").prop("scrollHeight")},1e3),n.publish({channel:s[0],message:"@"+t+" / "+(new Date).toISOString()+" / "+e}).then((function(){return b("")})))};return Object(u.useEffect)((function(){n.addListener({message:j}),n.subscribe({channels:s})}),[n,s]),Object(x.jsx)("div",{id:"GLOBALCHAT",className:"d-flex flex-column",children:Object(x.jsxs)("div",{style:{},className:"position-relative",children:[Object(x.jsx)("div",{className:"text-uppercas h1 text-center font-weight-bold",children:"Global Chat"}),Object(x.jsx)("div",{style:{maxHeight:"70vh",overflowY:"auto"},id:"chatStyle",className:"",children:i.map((function(e,t){var n=e.split(" / "),a=n[0],s=new Date(n[1]),r="".concat(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][s.getDay()],", ").concat(s.toLocaleString()),c=Array.from(n).splice(2).join(" / ");return Object(x.jsxs)("div",{className:"shadow-sm animate__animated animate__fadeIn",style:N,children:[Object(x.jsx)("small",{className:"text- d-block",style:{color:"".concat(y(v(a)))},children:a}),Object(x.jsx)("span",{style:{userSelect:""},children:c}),Object(x.jsx)("small",{className:"text-muted text-right d-block",children:r})]},"message-".concat(a,"-").concat(s.getTime()))}))}),Object(x.jsxs)("div",{style:{},className:"d-flex input-group w-100 mt-2",children:[Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Type your message",value:p,onKeyPress:function(e){"Enter"===e.key&&O(p)},onChange:function(e){return b(e.target.value)}}),Object(x.jsx)("div",{className:"input-group-append",children:Object(x.jsx)("button",{className:"btn btn-primary",onClick:function(e){e.preventDefault(),O(p)},children:Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",className:"bi bi-arrow-right-circle-fill",viewBox:"0 0 16 16",children:Object(x.jsx)("path",{d:"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"})})})})]})]})})}var N={backgroundColor:"#fff",borderRadius:"1rem",color:"black",fontSize:"1.1rem",margin:"5px",padding:"8px 15px"},S=function(e){var t=e.userName;return Object(x.jsx)(f.a,{client:O,children:Object(x.jsx)(w,{userName:t})})},k=(n(327),n.p+"static/media/snakes.4ba82798.jpg"),C=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{className:"min-vh-100 d-flex",children:[Object(x.jsx)("div",{className:"w-100",style:{position:"absolute",height:"100vh",zIndex:0,top:0,left:0,background:"url(".concat(o.a,")"),backgroundPosition:"center",backgroundSize:"cover"}}),Object(x.jsxs)("div",{className:"col-md-8 col-12 d-flex flex-column min-vh-100 px-md-5 py-md-3",id:"home-controls",children:[Object(x.jsx)(d.b,{component:function(e){return Object(x.jsx)(l.b,Object(a.a)(Object(a.a)({},e),{},{color:"white"}))}}),Object(x.jsx)("div",{className:"col p-0",id:"dashboard-game-carousel",children:Object(x.jsxs)("div",{id:"carouselExampleControls",className:"carousel slide shadow","data-ride":"carousel",children:[Object(x.jsxs)("div",{className:"carousel-inner",children:[Object(x.jsx)("div",{className:"carousel-item",onClick:function(){return e.props.history.push("/snakes")},role:"button",children:Object(x.jsx)("img",{src:k,className:"w-100 img-responsive",alt:"Snakes",style:{height:"100%"}})}),Object(x.jsx)("div",{className:"carousel-item active text-center bg-white",onClick:function(){return e.props.history.push("/tictactoe")},role:"button",children:Object(x.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/32/Tic_tac_toe.svg/1200px-Tic_tac_toe.svg.png",className:"img-responsive",alt:"Tic Tac Toe",style:{height:"100%"}})})]}),Object(x.jsxs)("a",{className:"carousel-control-prev",href:"#carouselExampleControls",role:"button","data-slide":"prev",children:[Object(x.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(x.jsx)("span",{className:"sr-only",children:"Previous"})]}),Object(x.jsxs)("a",{className:"carousel-control-next",href:"#carouselExampleControls",role:"button","data-slide":"next",children:[Object(x.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(x.jsx)("span",{className:"sr-only",children:"Next"})]})]})}),Object(x.jsxs)("div",{className:"col d-flex justify-content-around",id:"dashboard-controls",children:[Object(x.jsx)("span",{className:"d-block",onClick:function(){return e.props.history.push("/friends")},role:"button",children:Object(x.jsx)("img",{src:"https://www.ifsw.org/wp-content/uploads/2018/03/friends.png",alt:"Placeholder",className:"img-responsive rounded- shadow-",style:{filter:"invert(1)",width:"4em",height:"4em"}})}),Object(x.jsx)("span",{className:"d-block",onClick:function(){return e.props.history.push("/explore")},role:"button",children:Object(x.jsx)("img",{src:"https://cdn3.iconfinder.com/data/icons/google-material-design-icons/48/ic_explore_48px-512.png",alt:"Placeholder",className:"img-responsive rounded- shadow-",style:{filter:"invert(1)",width:"4em",height:"4em"}})})]})]}),Object(x.jsx)("div",{className:"col-md-4 d-md-block d-none",id:"global-chat",style:{zIndex:1,backdropFilter:"blur(10px)",background:"rgba(255,255,255,.8)",borderRadius:"1rem 0 0 1rem"},children:Object(x.jsx)(S,{userName:this.props.userName})})]})}}]),n}(u.Component)},179:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(54),s=n(7),r=n(3),c=n(4),i=n(6),o=n(5),l=n(10),u=n.n(l),d=n(2),h=n.p+"static/media/Welcome.f18f6168.svg",m=n(18),p=n(8),b=n(0),f=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var c;return Object(r.a)(this,n),(c=t.call(this,e)).calculate_age=function(e){var t=new Date,n=new Date(e);console.log("get bod--\x3e",n);var a=t.getFullYear()-n.getFullYear(),s=t.getMonth()-n.getMonth();return(s<0||0===s&&t.getDate()<n.getDate())&&a--,console.log("my age",a),a},c.onDateChange=function(e){console.log(e.target.value),c.setState({dob:e.target.value},(function(){c.calculate_age(e.target.value)<=11?c.setState({err:"You must be atleast 11 years of old to join."}):c.setState({err:""})}))},c.validateUsername=function(e){return e.match("^[a-zA-Z ]*$")},c.checkUserExists=function(e){m.a.get("player.php",{params:{userName:e}}).then((function(t){console.log(t),t.data.userName===e?c.setState(Object(s.a)(Object(s.a)({},c.state),{},{unameError:"User already exists !"})):c.setState(Object(s.a)(Object(s.a)({},c.state),{},{unameError:null}))}))},c.handleChange=function(e){c.setState(Object(s.a)(Object(s.a)({},c.state),{},{unameError:null})),e.preventDefault(),c.setState(Object(a.a)({},e.target.name,e.target.value),(function(){"userName"===e.target.name&&(c.validateUsername(e.target.value)?c.checkUserExists(e.target.value):c.setState(Object(s.a)(Object(s.a)({},c.state),{},{unameError:"Username can only be text !"})))}))},c.handleSubmit=function(e){e.preventDefault(),m.a.post("player.php",{UID:p.a.currentUser.uid,userName:c.state.userName,nickName:c.state.nickName,mail:p.a.currentUser.email,dob:c.state.dob,gender:c.state.gender,accountStatus:c.state.accountStatus,photoURL:p.a.currentUser.photoURL}).then((function(e){p.b.collection("users").doc(p.a.currentUser.uid).update({hasData:!0}).then((function(){window.location.href="/home"}))}))},c.state={accountStatus:"active",userName:"",nickName:"",gender:"Male",dob:"",err:"",unameError:null},c}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=(new Date).toISOString().substring(0,10);u()(".dob").prop("max",e)}},{key:"render",value:function(){return Object(b.jsx)("div",{className:"d-flex flex-column align-items-center w-100  justify-content-center min-vh-100 animate__fadeIn animate__animated",style:{background:"linear-gradient( rgba(255, 255, 255, 74%), rgba(0, 0, 0, 10%) ), url(".concat(h,")"),backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center"},children:Object(b.jsx)("div",{className:"d-flex flex-column w-100 justify-content-center col-5 p-5 border rounded animate__animated animate__bounceIn",style:{backgroundColor:"rgba(255,255,255,56%)"},children:Object(b.jsxs)("form",{method:"post",onSubmit:this.handleSubmit,autoComplete:"off",children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"uname",children:"User Name"}),Object(b.jsx)("input",{type:"text",className:"form-control ",id:"uname",placeholder:"Enter Username",name:"userName",onChange:this.handleChange,required:!0}),Object(b.jsx)("small",{id:"username_error",className:"text-danger form-text",children:this.state.unameError})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"nname",children:"Nick Name"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"nname",placeholder:"Enter Nickname",name:"nickName",onChange:this.handleChange,required:!0})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"gender",children:"Gender"}),Object(b.jsxs)("select",{name:"gender",className:"gender form-control",onChange:this.handleChange,value:this.state.gender,required:!0,children:[Object(b.jsx)("option",{value:"Male",children:"Male"}),Object(b.jsx)("option",{value:"Female",children:"Female"}),Object(b.jsx)("option",{value:"Other",children:"Other"})]})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"dob",children:"Date of Birth"}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"date",name:"dob",className:"dob form-control",onChange:this.onDateChange,required:!0})]}),Object(b.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"}),Object(b.jsx)("button",{className:"btn btn-danger ",onClick:function(){return p.a.signOut()},children:"Logout"})]})]})})})}}]),n}(d.Component)},18:function(e,t,n){"use strict";var a=n(167),s=n.n(a);t.a=s.a.create({baseURL:"/api/"})},180:function(e,t,n){"use strict";var a=n(54),s=n(3),r=n(4),c=n(6),i=n(5),o=n(2),l=n(14),u=n(29),d=n(48),h=n.n(d),m=n.p+"static/media/1.ee64e1d0.png",p=n(8),b=n(30),f=n(0),j=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).handleChange=function(e){e.preventDefault(),r.setState(Object(a.a)({},e.target.name,e.target.value))},r.handleSubmit=function(e){e.preventDefault(),r.setState({loading:!0},(function(){l.NotificationManager.info("Checking credentials"),p.a.signInWithEmailAndPassword(r.state.email,r.state.password).then((function(e){e&&!e.user.emailVerified&&(l.NotificationManager.warning("Verify account to proceed. Click this notification to resend the verification mail.","Account verification",2e3,(function(){e.user.sendEmailVerification(),l.NotificationManager.info("Verification mail sent",null,2e3,(function(){}),!0)}),!0),p.a.signOut(),r.setState({loading:!1}))})).catch((function(e){l.NotificationManager.error(e.message),r.setState({loading:!1})}))}))},r.state={loading:!0,email:"",password:""},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.setState({loading:!1})}},{key:"render",value:function(){return this.state.loading?Object(f.jsx)(b.b,{}):Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"min-vh-100 d-flex justify-content-center align-items-center",children:[Object(f.jsx)("div",{className:"w-100",style:{position:"absolute",height:"100vh",zIndex:0,top:0,left:0,background:"url(".concat(m,")"),backgroundPosition:"center",backgroundSize:"cover"}}),Object(f.jsx)("div",{className:"d-flex flex-column justify-content-center p-1 border-0 shadow",style:{zIndex:1,backdropFilter:"blur(10px)",background:"rgba(255,255,255,.7)",borderRadius:"1rem",width:"50vw",minHeight:"60vh"},children:Object(f.jsxs)("form",{method:"post",onSubmit:this.handleSubmit,autoComplete:"off",className:"mx-auto",style:{width:"80%"},children:[Object(f.jsx)("h1",{className:"text-center pb-4",children:"Gamerse"}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"email",children:"Email"}),Object(f.jsx)("input",{autoFocus:!0,onChange:this.handleChange,type:"email",name:"email",id:"email",className:"form-control"})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"password",children:"Password"}),Object(f.jsx)("input",{onChange:this.handleChange,type:"password",name:"password",id:"password",className:"form-control"})]}),Object(f.jsxs)("div",{className:"form-group d-flex flex-row-reverse justify-content-between align-items-center",children:[Object(f.jsx)("div",{children:Object(f.jsx)("button",{disabled:h.a.isEmpty(this.state.email)||h.a.isEmpty(this.state.password),type:"submit",className:"btn btn-primary",children:"Login"})}),Object(f.jsxs)("div",{className:"dropdown",children:[Object(f.jsx)("button",{className:"btn btn-dark","data-target":"auth-login-dropdown","data-toggle":"dropdown",children:"Actions"}),Object(f.jsxs)("div",{className:"dropdown-menu my-2",id:"auth-login-dropdown",children:[Object(f.jsx)(u.b,{to:"/register",className:"text-decoration-none text-dark dropdown-item",children:"Register"}),Object(f.jsx)(u.b,{to:"/forgot",className:"text-decoration-none text-dark dropdown-item",children:"Forgot Password"})]})]})]})]})})]})})}}]),n}(o.Component);t.a=j},181:function(e,t,n){"use strict";var a=n(24),s=n(54),r=n(3),c=n(4),i=n(6),o=n(5),l=n(2),u=n(8),d=n.p+"static/media/Register.f3fa9a5f.jpg",h=n(29),m=n(10),p=n.n(m),b=n(30),f=n(14),j=n(48),g=n.n(j),x=n(0),O=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var c;return Object(r.a)(this,n),(c=t.call(this,e)).validatePassword=function(e){return e.match(/[a-z]/g)&&e.match(/[A-Z]/g)&&e.match(/[0-9]/g)&&e.match(/[^a-zA-Z\d]/g)&&e.length>=6&&e.length<=20},c.handleChange=function(e){e.preventDefault(),c.setState(Object(s.a)({},e.target.name,e.target.value),(function(){"password"===e.target.name?g.a.isEmpty(e.target.value)?(p()("#password").removeClass("is-valid"),p()("#password").removeClass("is-invalid"),p()("#confirm_password").removeClass("is-valid"),p()("#confirm_password").removeClass("is-invalid"),p()("#password_help_text").fadeOut()):c.validatePassword(e.target.value)?(p()("#password").addClass("is-valid"),p()("#password").removeClass("is-invalid"),p()("#password_help_text").fadeOut()):(p()("#password").removeClass("is-valid"),p()("#password").addClass("is-invalid"),p()("#confirm_password").removeClass("is-valid"),p()("#confirm_password").removeClass("is-invalid"),p()("#password_help_text").fadeIn()):"confirm_password"===e.target.name&&(c.validatePassword(c.state.password)?c.state.password===c.state.confirm_password?(p()("#confirm_password").addClass("is-valid"),p()("#confirm_password").removeClass("is-invalid")):(p()("#confirm_password").removeClass("is-valid"),p()("#confirm_password").addClass("is-invalid")):(p()("#password").removeClass("is-valid"),p()("#password").addClass("is-invalid"),p()("#confirm_password").removeClass("is-valid"),p()("#confirm_password").removeClass("is-invalid"),p()("#password_help_text").fadeIn()))}))},c.genRanHex=function(e){return Object(a.a)(Array(e)).map((function(){return Math.floor(16*Math.random()).toString(16)})).join("")},c.handleSubmit=function(e){e.preventDefault(),c.validatePassword(c.state.password)&&c.state.confirm_password===c.state.password?c.setState({loading:!0},(function(){var e="https://api.multiavatar.com/".concat(c.genRanHex(18),".svg");u.a.createUserWithEmailAndPassword(c.state.email,c.state.password).then((function(t){var n=t.user;n.sendEmailVerification().then((function(){u.b.collection("users").doc(n.uid).set({hasData:!1}).then((function(){u.a.currentUser.updateProfile({photoURL:e}).then((function(){c.setState({loading:!1},(function(){f.NotificationManager.success("Account created")}))})).catch((function(e){var t=e.message;c.setState({loading:!1},(function(){f.NotificationManager.error(t.trim(),"Unable to create account")}))}))}))})).catch((function(e){var t=e.message;c.setState({loading:!1},(function(){f.NotificationManager.error(t.trim(),"Unable to create account")}))}))})).catch((function(e){var t=e.message;c.setState({loading:!1},(function(){f.NotificationManager.error(t.trim(),"Unable to create account")}))}))})):f.NotificationManager.error("Please enter correct details")},c.state={loading:!0,email:"",password:"",confirm_password:""},c}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.setState({loading:!1})}},{key:"render",value:function(){return this.state.loading?Object(x.jsx)(b.a,{}):Object(x.jsxs)("div",{className:"min-vh-100 d-flex justify-content-center align-items-center",children:[Object(x.jsx)("div",{className:"w-100",style:{position:"absolute",height:"100vh",zIndex:0,top:0,left:0,background:"url(".concat(d,")"),backgroundPosition:"center",backgroundSize:"cover"}}),Object(x.jsx)("div",{className:"d-flex flex-column justify-content-center p-3 shadow border-0",style:{zIndex:1,backdropFilter:"blur(10px)",background:"rgba(255,255,255,.7)",borderRadius:"1rem",width:"50vw",minHeight:"60vh"},children:Object(x.jsxs)("form",{method:"post",onSubmit:this.handleSubmit,autoComplete:"off",className:"mx-auto",style:{width:"80%"},children:[Object(x.jsx)("h1",{className:"text-center p-4",children:"Gamerse"}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"email",children:"Email"}),Object(x.jsx)("input",{onChange:this.handleChange,type:"email",name:"email",id:"email",className:"form-control"})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"password",children:"Password"}),Object(x.jsx)("input",{onChange:this.handleChange,type:"password",name:"password",id:"password",className:"form-control"}),Object(x.jsx)("small",{id:"password_help_text",className:"text-danger form-text",style:{display:"none"},children:"Password should be of length 6-20 and should contain one capital and one numeric character and any symbol"})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"confirm_password",children:"Confirm Password"}),Object(x.jsx)("input",{onChange:this.handleChange,disabled:g.a.isEmpty(this.state.password)||!this.validatePassword(this.state.password),type:"password",name:"confirm_password",id:"confirm_password",className:"form-control"})]}),Object(x.jsxs)("div",{className:"form-group d-flex justify-content-between align-items-center",children:[Object(x.jsx)("button",{type:"submit",disabled:g.a.isEmpty(this.state.email)||g.a.isEmpty(this.state.password)||g.a.isEmpty(this.state.confirm_password),className:"btn btn-primary my-2",children:"Register"}),Object(x.jsx)(h.b,{to:"/login",className:"form-text text-muted",children:"Already a member?"})]})]})})]})}}]),n}(l.Component);t.a=O},182:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n(7),s=n(23),r=n.n(s),c=n(33),i=n(3),o=n(4),l=n(6),u=n(5),d=n(31),h=n(8),m=n(18),p=n(16),b=n.n(p),f=n(2),j=n(14),g=n(13),x=n(12),O=n.p+"static/media/4.9850d392.webp",v=n(30),y=n(0),w=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={loading:!0,userName:null,players:[],q:""},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,n,a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("player.php",{params:{email:h.a.currentUser.email}});case 2:return t=e.sent,n=t.data.userName,e.prev=4,e.next=7,m.a.get("player.php");case 7:t=e.sent,a=t.data,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),a=[];case 14:return a=b.a.map(a,b.a.partialRight(b.a.pick,["userName","photoURL"])),e.prev=15,e.next=18,m.a.get("friends.php",{params:{userName:n}});case 18:t=e.sent,s=t.data,s=b.a.map(s,"friend"),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(15),s=[];case 26:a=a.filter((function(e){return!s.includes(e.userName)})),this.setState({loading:!1,userName:n,players:a.filter((function(e){return e.userName!==n}))});case 28:case"end":return e.stop()}}),e,this,[[4,11],[15,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"sendFriendRequest",value:function(e){var t=this;m.a.post("friends.php",{friendName:e,userName:this.state.userName}).then((function(n){j.NotificationManager.success("Friend request sent"),t.setState({players:t.state.players.filter((function(t){return t.userName!==e}))})})).catch((function(e){return j.NotificationManager.error("Error sending friend request")}))}},{key:"render",value:function(){var e=this;return this.state.loading?Object(y.jsx)(v.b,{}):Object(y.jsxs)("div",{children:[Object(y.jsx)(x.b,{component:function(e){return Object(y.jsx)(d.a,Object(a.a)({},e))}}),Object(y.jsx)("div",{className:"w-100",style:{position:"absolute",height:"100vh",zIndex:-1,top:0,left:0,background:"url(".concat(O,")"),backgroundPosition:"center",backgroundSize:"cover"}}),Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("h1",{className:"text-center text-white",children:"Explore"}),Object(y.jsx)("form",{className:"text-center mx-auto my-5",onSubmit:function(e){return e.preventDefault()},children:Object(y.jsx)("input",{autoComplete:"off",type:"search",name:"q",id:"q",placeholder:"Search players",onChange:function(t){return e.setState({q:t.target.value})},className:"form-control w-50 mx-auto"})}),Object(y.jsx)("div",{className:"pt-2 px-5",style:{height:"48vh",overflow:"hidden"},children:Object(y.jsx)("div",{className:" row flex-row flex-nowrap",style:{width:"100%",height:"100%",paddingBottom:"17px",overflowX:"auto",whiteSpace:"nowrap",boxSizing:"content-box"},children:0!==this.state.players.filter((function(t){return t.userName.includes(e.state.q)})).length?this.state.players.filter((function(t){return t.userName.includes(e.state.q)})).map((function(t){return Object(y.jsxs)("div",{className:"col-2 mx-2 d-flex flex-column justify-content-around align-items-center shadow",style:{borderRadius:"1rem",width:"16vw",height:"40vh",backdropFilter:"blur(10px)",background:"rgba(255,255,255,.7)"},children:[Object(y.jsx)("div",{className:"text-center",style:{width:"8rem",height:"8rem"},children:Object(y.jsx)("img",{src:t.photoURL,className:"img-responsive w-100 rounded-circle",alt:"userAvatar"})}),Object(y.jsx)("div",{children:t.userName}),Object(y.jsx)("div",{children:Object(y.jsx)("button",{className:"btn btn-light",onClick:function(){return e.sendFriendRequest(t.userName)},children:"Send Request"})})]},"requestcard-".concat(t.userName))})):Object(y.jsx)("div",{className:"",children:Object(y.jsx)("h1",{className:"text-danger",children:"No users found!"})})})})]})]})}}]),n}(f.Component);Object(g.b)((function(e){return{}}),{})(w)},183:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(7),s=n(3),r=n(4),c=n(6),i=n(5),o=n.p+"static/media/7.60112e99.jpg",l=n(30),u=n(8),d=n(31),h=n(52),m=n.n(h),p=n(2),b=n(14),f=n(13),j=n(12),g=n(0),x=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).cancelRequest=function(){u.b.collection("chats").doc(a.state.code).update({challenger:"",challenge:!1,challengee:"3"}).then((function(){a.props.history.goBack()}))},a.state={code:null},a}return Object(r.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this;t.code!==this.state.code&&(this.waiter=u.b.collection("chats").doc(this.state.code).onSnapshot((function(e){var t=e.data();t.challenger!==u.a.currentUser.email?"1"===t.challengee?u.b.collection("chats").doc(n.state.code).update({challengee:"2"}).then((function(){n.props.history.replace("/tttfriend/".concat(n.state.code))})):"3"===t.challengee&&(b.NotificationManager.error("Challenger has left"),n.props.history.goBack()):"2"===t.challengee&&u.b.collection("chats").doc(n.state.code).update({challenger:"",challenge:!1,challengee:""}).then((function(){n.props.history.replace("/tttfriend/".concat(n.state.code))}))})))}},{key:"componentWillUnmount",value:function(){clearInterval(this.wait_check),this.waiter()}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;t.length<64&&(b.NotificationManager.error("Code invalid","OH NO!"),this.props.history.goBack());var n=m.a.enc.Hex.parse(t).toString(m.a.enc.Base64),a=m.a.AES.decrypt(n,"Gamerse"),s=(a=(a=a.toString(m.a.enc.Utf8)).split("z"))[0];a=a[1],this.setState({code:a},(function(){e.wait_check=setInterval((function(){b.NotificationManager.info("It seems to be taking too long","Umm..."),parseInt(s)+parseInt("240000")<(new Date).getTime()&&(b.NotificationManager.error("The code is now expired","Oops!"),e.cancelRequest())}),3e4)}))}},{key:"render",value:function(){return Object(g.jsxs)("div",{className:"d-flex min-vh-100 flex-column",children:[Object(g.jsx)("div",{className:"w-100",style:{position:"absolute",height:"100vh",zIndex:-1,top:0,left:0,background:"url(".concat(o,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundColor:"#fff"}}),Object(g.jsx)(j.b,{component:function(e){return Object(g.jsx)(d.b,Object(a.a)({},e))}}),Object(g.jsx)("div",{className:"d-flex flex-grow-1 flex-column",children:Object(g.jsx)(l.a,{height:"flex-grow-1",text:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("p",{children:"Waiting for the other player to join"}),Object(g.jsx)("button",{className:"btn btn-primary",onClick:this.cancelRequest,children:"Cancel"})]})})})]})}}]),n}(p.Component);Object(f.b)((function(e){return{myUsername:e.chatReducer.myUsername}}),{})(x)},184:function(e,t,n){"use strict";var a=n(7),s=n(3),r=n(4),c=n(6),i=n(5),o=n.p+"static/media/6.f0751b73.webp",l=n(36),u=n(31),d=n(2),h=n(13),m=n(12),p=n(83),b=n(42),f=n(9),j=n(84),g=n(0),x=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentWillUnmount",value:function(){this.props.resetScore()}},{key:"render",value:function(){var e=this;return Object(g.jsx)(b.b,{children:Object(g.jsxs)("div",{id:"tttai",className:"min-vh-100 d-flex flex-column",children:[Object(g.jsx)(m.b,{component:function(e){return Object(g.jsx)(u.b,Object(a.a)({color:"white"},e))}}),Object(g.jsxs)("div",{className:"d-flex flex-row mx-auto flex-grow-",children:[Object(g.jsx)("div",{className:"w-100",style:{boxShadow:"0 0 100rem 1rem black inset",position:"absolute",height:"100vh",zIndex:-1,top:0,left:0,background:"url(".concat(o,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundColor:"#fff"}}),Object(g.jsx)(p.a,{against:"computer"}),Object(g.jsx)(j.a,{}),Object(g.jsx)(b.a.Consumer,{children:function(t){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("button",{id:"SetGameTypeHuman",className:"btn btn-primary",style:{position:"fixed",right:"2rem",top:"48vh"},onClick:function(){t.changeType(f.a.VERSUS_COMPUTER),t.newGame()},children:"New Game"}),Object(g.jsx)("button",{className:"btn btn-primary mt-5",style:{position:"fixed",right:"2rem",top:"52vh"},onClick:e.props.resetScore,children:"Reset score"})]})}})]})]})})}}]),n}(d.Component);x.contextType=b.a,x.contextType=b.a;var O={resetScore:l.a};t.a=Object(h.b)((function(e){e.tictactoe;return{}}),O)(x)},185:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(7),s=n(3),r=n(4),c=n(6),i=n(5),o=n(55),l=n(8),u=n(31),d=n(2),h=n(12),m=n(10),p=n.n(m),b=(n(329),n(0)),f=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).clicked=function(t){if(!e.gameState.gameEnded&&!e.gameState.gameLocked){""===e.gameState.board[t.dataset.square]&&(e.gameState.board[t.dataset.square]=e.gameState.turn,t.innerText=e.gameState.turn,e.gameState.turn="X"===e.gameState.turn?"O":"X",e.gameState.totalMoves++),console.log(e.gameState.totalMoves);var n=e.checkWinner();"X"===n?(e.gameState.gameEnded=!0,e.gameState.currentPlayerScore=e.gameState.currentPlayerScore+1,e.setState({winner:"X",winnerLine:"Match won by X"}),e.props.updateScore(e.gameState.currentPlayerScore,e.gameState.opponentPlayer)):"O"===n?(e.gameState.gameEnded=!0,e.gameState.opponentPlayer=e.gameState.opponentPlayer+1,e.setState({winner:"O",winnerLine:"Match won by O"}),e.props.updateScore(e.gameState.currentPlayerScore,e.gameState.opponentPlayer)):"draw"===n&&(e.gameState.gameEnded=!0,e.setState({winner:"draw",winnerLine:"Match is drawn"}),e.props.updateScore(e.gameState.currentPlayerScore,e.gameState.opponentPlayer)),"O"!==e.gameState.turn||e.gameState.gameEnded||(e.gameState.gameLocked=!0,setTimeout((function(){do{var t=Math.floor(9*Math.random())}while(""!==e.gameState.board[t]);e.gameState.gameLocked=!1,e.clicked(document.querySelectorAll(".square")[t])}),500))}},e.resetGame=function(){e.gameState.turn="X",e.gameState.gameLocked=!1,e.gameState.gameEnded=!1,e.gameState.board=Array(9).fill(""),e.gameState.totalMoves=0,p()(".square").html(""),e.setState({winner:void 0,winnerLine:""})},e.checkWinner=function(){for(var t=[[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6],[0,1,2],[3,4,5],[6,7,8]],n=e.gameState.board,a=0;a<t.length;a++)if(n[t[a][0]]===n[t[a][1]]&&n[t[a][1]]===n[t[a][2]])return n[t[a][0]];if(console.log(e.gameState.totalMoves),9===e.gameState.totalMoves)return"draw"},e.state={winner:void 0,winnerLine:""},e.gameState={turn:"X",gameLocked:!1,gameEnded:!1,board:Array(9).fill(""),totalMoves:0,currentPlayerScore:0,opponentPlayer:0},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{id:"game",children:[Object(b.jsx)("h1",{id:"status",className:"pb-3",children:this.state.winnerLine}),Object(b.jsxs)("div",{id:"board",onClick:function(t){return e.clicked(t.target)},children:[Object(b.jsx)("div",{className:"square","data-square":"0"}),Object(b.jsx)("div",{className:"square","data-square":"1"}),Object(b.jsx)("div",{className:"square","data-square":"2"}),Object(b.jsx)("div",{className:"square","data-square":"3"}),Object(b.jsx)("div",{className:"square","data-square":"4"}),Object(b.jsx)("div",{className:"square","data-square":"5"}),Object(b.jsx)("div",{className:"square","data-square":"6"}),Object(b.jsx)("div",{className:"square","data-square":"7"}),Object(b.jsx)("div",{className:"square","data-square":"8"})]})]})}}]),n}(d.Component),j=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).updateScore=function(e,t){a.setState({playerScore:e,computerScore:t})},a.resetGame=function(){a.refs.tttRef.resetGame()},a.state={playerScore:0,computerScore:0},a}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{id:"ttteasy",className:"min-vh-100 d-flex flex-column",children:[Object(b.jsx)(h.b,{component:function(e){return Object(b.jsx)(u.b,Object(a.a)({color:""},e))}}),Object(b.jsx)("div",{className:"w-100",style:{boxShadow:"0 0 100rem 1rem white inset",position:"absolute",height:"100vh",zIndex:-1,top:0,left:0,background:"url(".concat(o.a,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundColor:"#fff"}}),Object(b.jsxs)("div",{className:"d-flex flex-row flex-grow-1",children:[Object(b.jsx)("div",{className:"col-7 d-flex justify-content-center align-items-center",children:Object(b.jsx)("div",{id:"ttt",className:"shadow p-5 bg-",style:{borderRadius:"1.2rem",backgroundColor:"#ffffffaa",backdropFilter:"blur(10px)"},children:Object(b.jsx)(f,{ref:"tttRef",updateScore:this.updateScore})})}),Object(b.jsxs)("div",{className:"col-5 d-flex justify-content-around align-items-center flex-column",children:[Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center  shadow px-4 pt-4 text-black",style:{borderRadius:"1.4rem",width:"80%",backgroundColor:"#ffffffaa",backdropFilter:"blur(10px)"},children:[Object(b.jsxs)("div",{className:"d-flex flex-column justify-content-between",children:[Object(b.jsx)("img",{src:l.a.currentUser.photoURL,alt:"You",className:"img-responsive d-block rounded-circle shadow",style:{width:"6rem",height:"6rem"}}),Object(b.jsx)("p",{className:"text-center pt-4",style:{fontSize:"5rem",fontWeight:"bold"},children:this.state.playerScore})]}),Object(b.jsx)("img",{src:"https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/a3f544f1-f07b-4aa9-b6f9-824148c31a10/daqrpoq-f7ee01ed-ac8e-4c47-86c9-360f670365d2.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOiIsImlzcyI6InVybjphcHA6Iiwib2JqIjpbW3sicGF0aCI6IlwvZlwvYTNmNTQ0ZjEtZjA3Yi00YWE5LWI2ZjktODI0MTQ4YzMxYTEwXC9kYXFycG9xLWY3ZWUwMWVkLWFjOGUtNGM0Ny04NmM5LTM2MGY2NzAzNjVkMi5wbmcifV1dLCJhdWQiOlsidXJuOnNlcnZpY2U6ZmlsZS5kb3dubG9hZCJdfQ.37GhMgHrxdiLQPB8OPtK_04vGDSUum7EM4vxWzmkzYY",alt:"VS",className:"img-responsive",style:{width:"4rem",height:"4rem"}}),Object(b.jsxs)("div",{className:"d-flex flex-column justify-content-between",children:[Object(b.jsx)("img",{src:"https://api.multiavatar.com/41ae3276318cb34b82.svg",alt:"Computer",className:"img-responsive d-block rounded-circle shadow",style:{width:"6rem",height:"6rem"}}),Object(b.jsx)("p",{className:"text-center pt-4",style:{fontSize:"5rem",fontWeight:"bold"},children:this.state.computerScore})]})]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"btn btn-primary",onClick:function(){e.resetGame()},children:"New Game"})})]})]})]})}}]),n}(d.Component)},195:function(e,t,n){},196:function(e,t,n){},22:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"k",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"n",(function(){return m})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return b})),n.d(t,"i",(function(){return f}));var a="FETCH_DATA",s="REMOVE_FRIEND",r="RECEIVED_CHAT_MESSAGE",c="CHALLENGE_RECEIVED",i="ACCEPT_REQUEST",o="REJECT_REQUEST",l="CHANGE_CHAT_WINDOW",u="SEND_MESSAGE",d="SEND_CHALLENGE",h="GREET",m="UPDATE_SCORE_X",p="UPDATE_SCORE_O",b="UPDATE_SCORE_TIE",f="RESET_SCORE"},222:function(e,t,n){},228:function(e,t){},230:function(e,t){},260:function(e,t){},261:function(e,t){},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(3),s=n(4),r=n(6),c=n(5),i=n(2),o=n(13),l=(n(222),n(0)),u=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(l.jsxs)("div",{id:"Loading",className:"d-flex flex-column ".concat(this.props.height||"min-vh-100"," bg- justify-content-center align-items-center"),children:[Object(l.jsxs)("div",{className:"loading",children:[Object(l.jsx)("div",{className:"dot"}),Object(l.jsx)("div",{className:"dot"}),Object(l.jsx)("div",{className:"dot"}),Object(l.jsx)("div",{className:"dot"}),Object(l.jsx)("div",{className:"dot"})]}),Object(l.jsx)("div",{className:"pt-2 text-center",children:this.props.text||null})]})}}]),n}(i.Component);t.b=Object(o.b)((function(e){return{}}),{})(u)},31:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var a=n(3),s=n(4),r=n(6),c=n(5),i=n(8),o=n(2),l=n(14),u=n(13),d=n(0),h=function(t){Object(r.a)(o,t);var n=Object(c.a)(o);function o(e){var t;return Object(a.a)(this,o),(t=n.call(this,e)).validatePassword=function(e){return e.match(/[a-z]/g)&&e.match(/[A-Z]/g)&&e.match(/[0-9]/g)&&e.match(/[^a-zA-Z\d]/g)&&e.length>=6&&e.length<=20},t.handleSubmit=function(e){e.preventDefault(),t.validatePassword(t.state.new_password)?t.setState({loading:!0},(function(){i.a.currentUser.updatePassword(t.state.new_password).then((function(){t.setState({loading:!1},(function(){return l.NotificationManager.success("Password changed")}))})).catch((function(e){var n=e.message;return t.setState({loading:!1},(function(){return l.NotificationManager.error(n)}))}))})):l.NotificationManager.error("Password not strong")},t.state={loading:!0,new_password:""},t}return Object(s.a)(o,[{key:"componentDidMount",value:function(){this.setState({loading:!1})}},{key:"render",value:function(){var t=this;return this.state.loading?"Processing":Object(d.jsxs)("header",{children:[Object(d.jsxs)("div",{className:"navbar navbar-expand-lg navbar-light bg- shadow- mb-3",children:[Object(d.jsx)("div",{onClick:function(){return t.props.history.push("/")},className:"navbar-brand",role:"button",children:Object(d.jsx)("h1",{className:"text-".concat(this.props.color||""),children:"Gamerse"})}),Object(d.jsxs)("div",{className:"ml-auto dropdown nav-item",children:[Object(d.jsx)("img",{src:i.a.currentUser.photoURL,alt:"Profile",className:"img-responsive rounded-circle shadow",style:{width:"3.2em",height:"3.2em"},role:"button","data-toggle":"dropdown"}),Object(d.jsxs)("div",{className:"dropdown-menu dropdown-menu-right border-0 shadow p-0 mt-2 text-cente overflow-hidden",children:[Object(d.jsx)("div",{className:"dropdown-item",role:"button","data-toggle":"modal","data-target":"#changePassword","data-backdrop":"false",children:"Change password"}),Object(d.jsx)("div",{className:"dropdown-item",role:"button",onClick:function(){return i.a.signOut().then((function(t){return e.worker.terminate()}))},children:"Logout"})]})]})]}),Object(d.jsx)("div",{className:"modal",id:"changePassword",tabIndex:"-1",role:"dialog","aria-labelledby":"changePasswordLabel","aria-hidden":"true",children:Object(d.jsx)("form",{autoComplete:"off",onSubmit:this.handleSubmit,className:"modal-dialog modal-dialog-centered",role:"document",children:Object(d.jsxs)("div",{className:"modal-content border-0 shadow animate__animated animate__fadeIn",style:{borderRadius:"2rem",backdropFilter:"blur(10px)",background:"rgba(255,255,255,.7)"},children:[Object(d.jsxs)("div",{className:"modal-header",children:[Object(d.jsx)("h5",{className:"modal-title",id:"changePasswordLabel",children:"Change password"}),Object(d.jsx)("button",{type:"button",className:"close d-none","data-dismiss":"modal","aria-label":"Close",children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(d.jsx)("div",{className:"modal-body",children:Object(d.jsx)("div",{className:"form-group",children:Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("input",{type:"password",className:"form-control",name:"new_password",id:"new_password","aria-describedby":"newPasswordGuide",placeholder:"Enter new password",onChange:function(e){return t.setState({new_password:e.target.value})}}),Object(d.jsx)("small",{id:"newPasswordGuide",className:"form-text text-muted",children:"Password should be of length 6-20 and should contain one capital and one numeric character and any symbol"})]})})}),Object(d.jsxs)("div",{className:"modal-footer justify-content-around",children:[Object(d.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(d.jsx)("button",{type:"button",className:"btn btn-primary",children:"Change"})]})]})})})]})}}]),o}(o.Component);t.b=Object(u.b)((function(e){return{}}),{})(h)}).call(this,n(26))},326:function(e,t,n){},327:function(e,t,n){},328:function(e,t,n){},329:function(e,t,n){},331:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),r=n(50),c=n.n(r),i=(n(191),n(192),n(194),n(195),n(196),n(165)),o=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var u=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,334)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))},d=n(29),h=n(12),m=n(13),p=n(64),b=n(24),f=n(7),j=n(22),g={requests:[],players:[],friends:[],userName:null,chatWithId:null,loading:!0,email:null},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.a:case j.g:return Object(f.a)(Object(f.a)({},e),{},{requests:Object(b.a)(e.requests.filter((function(e){return e.id!==t.payload})))});case j.b:return e;case j.c:return Object(f.a)(Object(f.a)({},e),{},{chatWithId:t.payload});case j.f:return e;case j.h:return Object(f.a)(Object(f.a)({},e),{},{friends:Object(b.a)(e.friends.filter((function(e){return e.id!==t.payload}))),chatWithId:null});case j.j:return Object(f.a)(Object(f.a)({},e),{},{email:t.payload});case j.k:return e;case j.d:return Object(f.a)(Object(f.a)({},e),t.payload);default:return e}},O={score_x:0,score_o:0,tie:0},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.n:return Object(f.a)(Object(f.a)({},e),{},{score_x:e.score_x+1});case j.l:return Object(f.a)(Object(f.a)({},e),{},{score_o:e.score_o+1});case j.m:return Object(f.a)(Object(f.a)({},e),{},{tie:e.tie+1});case j.i:return O;default:return e}},y=Object(p.b)({chatReducer:x,tictactoe:v}),w=Object(p.c)(y,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),N=n(106),S=n.n(N),k=n(0);c.a.render(Object(k.jsx)(s.a.StrictMode,{children:Object(k.jsx)(d.a,{children:Object(k.jsxs)(m.a,{store:w,children:[Object(k.jsx)(h.b,{component:i.a}),Object(k.jsx)(S.a,{})]})})}),document.getElementById("gamerse")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");o?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):l(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):l(t,e)}))}}(),u()},36:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return i}));var a=n(22),s=function(e){return{type:a.n,payload:e}},r=function(e){return{type:a.l,payload:e}},c=function(e){return{type:a.m,payload:e}},i=function(e){return{type:a.i,payload:e}}},42:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m}));var a=n(3),s=n(4),r=n(6),c=n(5),i=n(2),o=n.n(i),l=n(9),u=n(0),d=500,h=o.a.createContext(),m=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).initState={gameType:l.a.VERSUS_COMPUTER,currentIcon:Object(l.g)(0,2),playerTurn:Object(l.g)(0,2),cells:new Array(9).fill(null),gameState:{position:"",iconType:null,isTie:null}},e.state={gameType:e.initState.gameType,currentIcon:e.initState.currentIcon,playerTurn:e.initState.playerTurn,cells:e.initState.cells,gameState:e.initState.gameState,changeType:function(t){e.state.gameType!==t&&e.initNewGame(t)},humanPlay:function(t){e.humanPlay(t)},newGame:function(){e.initNewGame(e.state.gameType)},newGameHuman:function(){e.initNewGame(l.a.TWO_PLAYERS)}},e.initGame=function(){e.state.gameType===l.a.VERSUS_COMPUTER&&e.state.playerTurn===l.c.COMPUTER&&(e.timeout&&clearTimeout(e.timeout),e.timeout=setTimeout((function(){var t=Object(l.f)(e.state.cells);e.computerPlay(t)}),d))},e.initNewGame=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.initState.gameType;e.setState((function(){return{gameType:t,currentIcon:Object(l.g)(0,2),playerTurn:Object(l.g)(0,2),cells:e.initState.cells,gameState:e.initState.gameState}}),(function(){e.initGame()}))},e.applyState=function(e,t){var n=e.cells,a=1-e.currentIcon,s=1-e.playerTurn,r=Object(l.h)(n,t,e.currentIcon);return{gameState:Object(l.d)(r),currentIcon:a,playerTurn:s,cells:r}},e.humanPlay=function(t){""!==e.state.gameState.position||null!==e.state.cells[t]||e.state.gameType!==l.a.TWO_PLAYERS&&e.state.playerTurn!==l.c.HUMAN||e.setState((function(n){return e.applyState(n,t)}),(function(){""===e.state.gameState.position&&e.state.gameType===l.a.VERSUS_COMPUTER&&e.state.playerTurn===l.c.COMPUTER&&setTimeout((function(){e.makeAIMove()}),d)}))},e.computerPlay=function(t){""===e.state.gameState.position&&null===e.state.cells[t]&&e.state.gameType===l.a.VERSUS_COMPUTER&&e.state.playerTurn===l.c.COMPUTER&&e.setState((function(n){return e.applyState(n,t)}))},e.makeAIMove=function(){var t=Object(l.e)(e.state.cells,e.state.currentIcon);null!==t&&e.computerPlay(t)},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.initGame()}},{key:"render",value:function(){return Object(u.jsx)(h.Provider,{value:this.state,children:this.props.children})}}]),n}(i.Component)},55:function(e,t,n){"use strict";t.a=n.p+"static/media/5.1252d505.jpg"},8:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return i}));var a=n(107),s=(n(198),n(332),n(333),a.a.initializeApp({apiKey:"AIzaSyAlokrP12oBOqT4oWKd_0tBJRrR83LdRVo",authDomain:"gamerse-8614e.firebaseapp.com",projectId:"gamerse-8614e",storageBucket:"gamerse-8614e.appspot.com",appId:"1:270745682328:web:66f6750ea08bcd4d756bed",measurementId:"G-BWG7B0TZ54"})),r=s.auth(),c=s.firestore();s.analytics();var i=a.a.auth.RecaptchaVerifier},82:function(e,t,n){"use strict";t.a=n.p+"static/media/3.725523ca.webp"},83:function(e,t,n){"use strict";var a=n(3),s=n(4),r=n(6),c=n(5),i=n(2),o=n(13),l=n(0),u=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(l.jsxs)("div",{className:"text-dark d-flex flex-column align-items-center justify-content-center shadow",style:{position:"relative",borderRadius:"1rem",width:"25vw",height:"50vh",backdropFilter:"blur(10px)",background:"rgba(255,255,255,.7)"},children:[Object(l.jsx)("div",{children:Object(l.jsx)("h1",{children:Object(l.jsx)("u",{children:"Score"})})}),"computer"!==this.props.against?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{className:"d-inline-block",children:" X:"}),Object(l.jsx)("span",{className:"ml-5 lead",style:{fontSize:"4rem"},children:this.props.score_x})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{className:"d-inline-block",children:" O:"}),Object(l.jsx)("span",{className:"ml-5 lead",style:{fontSize:"4rem"},children:this.props.score_o})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{className:"d-inline-block",children:" Tie:"}),Object(l.jsx)("span",{className:"ml-5 lead",style:{fontSize:"4rem"},children:this.props.tie})]})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{className:"d-inline-block",children:" AI:"}),Object(l.jsx)("span",{className:"ml-5 lead",style:{fontSize:"4rem"},children:this.props.score_x})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{className:"d-inline-block",children:" You:"}),Object(l.jsx)("span",{className:"ml-5 lead",style:{fontSize:"4rem"},children:this.props.score_o})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{className:"d-inline-block",children:" Tie:"}),Object(l.jsx)("span",{className:"ml-5 lead",style:{fontSize:"4rem"},children:this.props.tie})]})]})]})}}]),n}(i.Component);t.a=Object(o.b)((function(e){var t=e.tictactoe;return{score_x:t.score_x,score_o:t.score_o,tie:t.tie}}),{})(u)},84:function(e,t,n){"use strict";var a=n(3),s=n(4),r=n(6),c=n(5),i=n(36),o=n(2),l=n.n(o),u=n(13),d=n(42),h=n(9),m=(n(125),n(0)),p=function(e){return Object(m.jsx)(d.a.Consumer,{children:function(t){var n=t.cells[e.index],a=null!==n?h.b[n]:"_",s="_"!==a?"done text-dark":" text-white";return Object(m.jsx)("button",{className:"cell cell-".concat(e.index," ").concat(s),onClick:function(){return t.humanPlay(e.index)},children:a})}})},b=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).boardRef=l.a.createRef(),s}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(){var e=this;""!==this.context.gameState.position?setTimeout((function(){e.boardRef.current.classList.add("full")}),50):this.boardRef.current.classList.remove("full")}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"board ".concat(this.context.gameState.position),ref:this.boardRef,children:[Object(m.jsxs)("div",{className:"board-row",children:[Object(m.jsx)(p,{index:0}),Object(m.jsx)(p,{index:1}),Object(m.jsx)(p,{index:2})]}),Object(m.jsxs)("div",{className:"board-row",children:[Object(m.jsx)(p,{index:3}),Object(m.jsx)(p,{index:4}),Object(m.jsx)(p,{index:5})]}),Object(m.jsxs)("div",{className:"board-row",children:[Object(m.jsx)(p,{index:6}),Object(m.jsx)(p,{index:7}),Object(m.jsx)(p,{index:8})]})]})}}]),n}(o.Component);b.contextType=d.a;var f=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e="",t=this.context.currentIcon;this.context.gameState.isTie?(e="Tie!",this.props.updateScoreTie()):this.context.gameType===h.a.TWO_PLAYERS?""===this.context.gameState.position?e="It's player(".concat(h.b[t],") turn"):(e="Player(".concat(h.b[1-t],") wins!"),"X"===h.b[1-t]?this.props.updateScoreX():this.props.updateScoreO()):""===this.context.gameState.position?e=this.context.playerTurn===h.c.HUMAN?"It's your turn":"It's computer turn":this.context.playerTurn===h.c.HUMAN?(e="Computer win!",this.props.updateScoreX()):(e="You win!",this.props.updateScoreO());return Object(m.jsxs)("main",{className:"main",children:[Object(m.jsx)("h1",{className:"info",children:e}),Object(m.jsx)(b,{})]})}}]),n}(o.Component);f.contextType=d.a;var j={updateScoreX:i.d,updateScoreO:i.b,updateScoreTie:i.c,resetScore:i.a};t.a=Object(u.b)((function(e){e.tictactoe;return{}}),j)(f)},9:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return h})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return b}));var a=n(24),s=n(51),r={TWO_PLAYERS:0,VERSUS_COMPUTER:1},c=["O","X"],i={HUMAN:0,COMPUTER:1},o=function(e){return e.map((function(e,t){return[e,t]})).filter((function(e){return null===e[0]}))},l=function(e){return o(e).length>0},u=function(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],n=0;n<t.length;n++){var a=Object(s.a)(t[n],3),r=a[0],c=a[1],i=a[2];if(null!==e[r]&&e[r]===e[c]&&e[r]===e[i])return{position:n>=0&&n<=2?"h h".concat(n):n>=3&&n<=5?"v v".concat(n-3):"d".concat(n-6),iconType:e[r],isTie:null}}return{position:"",iconType:null,isTie:!l(e)||null}},d=function(e,t){return e+Math.floor(Math.random()*(t-e))},h=function(e,t,n){return[].concat(Object(a.a)(e.slice(0,t)),[n],Object(a.a)(e.slice(t+1,e.length)))},m=function(e){var t=o(e);return t.length>0?t[d(0,t.length)][1]:null},p=function e(t,n,a,r){var c=function(e,t){for(var n=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],a=0;a<n.length;a++){var r=Object(s.a)(n[a],3),c=r[0],i=r[1],o=r[2];if(null!==e[c]&&e[c]===e[i]&&e[c]===e[o])return e[c]===t?10:-10}return 0}(t,a);if(10===c)return c-n;if(-10===c)return c+n;if(!l(t))return 0;var i,o=t.length;if(r){i=-1e3;for(var u=0;u<o;u++){if(null===t[u]){var d=h(t,u,a);i=Math.max(i,e(d,n+1,a,!r))}}}else{i=1e3;for(var m=0;m<o;m++){if(null===t[m]){var p=h(t,m,1-a);i=Math.min(i,e(p,n+1,a,!r))}}}return i},b=function(e,t){for(var n=-1e3,a=null,s=e.length,r=0;r<s;r++){if(null===e[r]){var c=h(e,r,t),i=p(c,0,t,!1);i>n&&(n=i,a=r)}}return a}}},[[331,1,2]]]);